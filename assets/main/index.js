System.register("chunks:///_virtual/APIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrobe.Noti.ts"],(function(e){var t,n,o,r,a;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e._decorator},function(e){a=e.Wardrobe_Noti}],execute:function(){var i,s;o._RF.push({},"94334NxE3ZPSK9ghwnuVr9L","APIManager",void 0);var u=r.ccclass;r.property,e("APIManager",u("APIManager")(((s=function(){function e(){}return e.fqaGetProfile=function(t){var n=JSON.stringify({}),o=this.isProduct?this.url_production:this.url_dev;o+="api/v1/social/game/profile",e.get(o,n,(function(e){var n=JSON.parse(e);t(n)}),(function(t){t.setRequestHeader("Authorization","Bearer "+e.access_token),t.setRequestHeader("Content-Type","application/json")}))},e.fqaGetProfileFriend=function(t,n){var o=JSON.stringify({}),r=this.isProduct?this.url_production:this.url_dev;r+="api/v1/external/social/game/profile/"+t,e.get(r,o,(function(e){var t=JSON.parse(e);n(t)}),(function(e){e.setRequestHeader("Content-Type","application/json")}))},e.fqaSetProfile=function(t){var n=JSON.stringify(t),o=this.isProduct?this.url_production:this.url_dev;o+="api/v1/social/game/profile",e.post(o,n,(function(e){var t=2e3==JSON.parse(e).msg.code;if(a.Instance){var n="Lưu thành công.";t||(n="Lưu thất bại."),a.Instance.ShowNoti(t,n)}}),(function(t){t.setRequestHeader("Authorization","Bearer "+e.access_token),t.setRequestHeader("Content-Type","application/json")}))},e.fqaUploadImage=function(){var o=t(n().mark((function t(o){var r,a,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Blob([o],{type:"image/png"}),(a=new FormData).append("file",r,"test.png"),a.append("basePath","avatar"),i=this.isProduct?this.url_production:this.url_dev,i+="api/v1/social/file-system/upload/image/resize",e.post(i,a,(function(e){JSON.parse(e)}),(function(t){t.setRequestHeader("Authorization","Bearer "+e.access_token),t.setRequestHeader("Content-Type","application/json")}));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return o.apply(this,arguments)}}(),e.post=function(e,t,n,o){var r=new XMLHttpRequest;r.onerror=function(){},r.ontimeout=function(){},r.onabort=function(){},r.onloadend=function(){},r.onreadystatechange=function(){4==r.readyState&&200==r.status&&r.responseText&&n(r.responseText)},r.open("POST",e,!0),o(r),r.send(t)},e.get=function(e,t,n,o){var r=new XMLHttpRequest;r.onerror=function(){},r.ontimeout=function(){},r.onabort=function(){},r.onloadend=function(){},r.onreadystatechange=function(){4==r.readyState&&200==r.status&&r.responseText&&n(r.responseText)},r.open("GET",e,!0),o(r),r.send(t)},e}()).access_token="",s.isProduct=!0,s.url_dev="https://fqa-social.dev.ftech.ai/",s.url_production="https://social.fqa.vn/",i=s))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/Astar.ts",["cc","./BinaryHeap.ts"],(function(e){var t,r,n;return{setters:[function(e){t=e.cclegacy,r=e.Vec3},function(e){n=e.BinaryHeap}],execute:function(){t._RF.push({},"3a8d2z5ZhBKLb4QNlLsVGg2","Astar",void 0);e("Astar",function(){function e(){}return e.init=function(e){for(var t=0;t<e.length;t++){var r=e[t];r.f=0,r.g=0,r.h=0,r.cost=1,r.visited=!1,r.closed=!1,r.parent=null}},e.cleanUp=function(e){for(var t=0;t<e.length;t++){var r=e[t];delete r.f,delete r.g,delete r.h,delete r.cost,delete r.visited,delete r.closed,delete r.parent}},e.heap=function(){return new n((function(e){return e.f}))},e.search=function(e,t,n){this.init(e);var i=this.heap();for(i.push(t);i.size()>0;){var s=i.pop();if(s===n){for(var o=s,c=[];o.parent;)c.push(o),o=o.parent;return this.cleanUp(c),c.reverse()}s.closed=!0;for(var a=this.neighbours(e,s),u=0,h=a.length;u<h;u++){var f=a[u];if(!f.closed){var d=s.g+f.cost,l=f.visited;if(!l||d<f.g){if(f.visited=!0,f.parent=s,!f.centroid||!n.centroid)throw new Error("Unexpected state");f.h=f.h||r.squaredDistance(f.centroid,n.centroid),f.g=d,f.f=f.g+f.h,l?i.rescoreElement(f):i.push(f)}}}}return[]},e.neighbours=function(e,t){for(var r=[],n=0;n<t.neighbours.length;n++)r.push(e[t.neighbours[n]]);return r},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/BinaryHeap.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"ab01cDrVgtDn5AN4KxNV/8X","BinaryHeap",void 0);t("BinaryHeap",function(){function t(t){this.scoreFunction=void 0,this.content=void 0,this.content=[],this.scoreFunction=t}var n=t.prototype;return n.push=function(t){this.content.push(t),this.sinkDown(this.content.length-1)},n.pop=function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),t},n.remove=function(t){var n=this.content.indexOf(t),i=this.content.pop();n!==this.content.length-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.sinkDown(n):this.bubbleUp(n))},n.size=function(){return this.content.length},n.rescoreElement=function(t){this.sinkDown(this.content.indexOf(t))},n.sinkDown=function(t){for(var n=this.content[t];t>0;){var i=(t+1>>1)-1,o=this.content[i];if(!(this.scoreFunction(n)<this.scoreFunction(o)))break;this.content[i]=n,this.content[t]=o,t=i}},n.bubbleUp=function(t){for(var n=this.content.length,i=this.content[t],o=this.scoreFunction(i);;){var e=t+1<<1,c=e-1,s=null,h=void 0;if(c<n){var r=this.content[c];(h=this.scoreFunction(r))<o&&(s=c)}if(e<n){var u=this.content[e];this.scoreFunction(u)<(null===s?o:h)&&(s=e)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=i,t=s}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Builder.ts",["cc","./nUtils.ts"],(function(r){var e,n,o;return{setters:[function(r){e=r.cclegacy,n=r.Vec3},function(r){o=r.nUtils}],execute:function(){e._RF.push({},"f8929iHFYlJlaz7L0cvyCLc","Builder",void 0);var t={faces:[],vertices:[],centroid:[]};r("Builder",function(){function r(){}return r.buildZoneByJson=function(r){this.cleanGeometry();for(var e=r.vertices,o=r.faces,i=0;i<e.length;i+=3)t.vertices.push(new n(e[i],e[i+1],e[i+2]));for(var s=0;s<o.length/3;s++)this.computeCentroids(o[3*s],o[3*s+1],o[3*s+2]);return this.buildZone(t)},r.cleanGeometry=function(){t.vertices.length=0,t.faces.length=0,t.centroid.length=0},r.buildZone=function(r){var e=this.buildNavMesh(r);return this.groupNavMesh(e)},r.buildNavMesh=function(r){o.mergeVertices(r);var e=this.buildPolygonsFromGeometry(r);return e},r.computeCentroids=function(r,e,o){var i=new n;n.add(i,t.vertices[e],t.vertices[r]),n.add(i,t.vertices[o],i),n.multiplyScalar(i,i,1/3),t.faces.push(new Array(r,e,o)),t.centroid.push(i)},r.buildPolygonsFromGeometry=function(r){for(var e=[],n=r.vertices,o=0,t=r.faces.length;o<t;o++)e.push({vertexIds:r.faces[o],centroid:r.centroid[o],neighbours:[]});for(var i={polygons:e,vertices:n},s=0,u=e.length;s<u;s++){var c=e[s];this.buildPolygonNeighbours(c,i)}return i},r.groupNavMesh=function(r){var e={vertices:null,groups:null};e.vertices=r.vertices;var n=this.buildPolygonGroups(r);e.groups=[];for(var t=function(r,e){for(var n=0;n<r.length;n++)if(e===r[n])return n},i=0,s=n.length;i<s;i++){for(var u=n[i],c=[],l=0,g=u.length;l<g;l++){for(var h=u[l],a=[],d=[],v=0,f=h.neighbours.length;v<f;v++){var p=h.neighbours[v];a.push(t(u,p)),d.push(this.getSharedVerticesInOrder(h,p))}h.centroid.x=o.roundNumber(h.centroid.x,2),h.centroid.y=o.roundNumber(h.centroid.y,2),h.centroid.z=o.roundNumber(h.centroid.z,2),c.push({id:t(u,h),neighbours:a,vertexIds:h.vertexIds,centroid:h.centroid,portals:d})}e.groups.push(c)}return e},r.buildPolygonNeighbours=function(r,e){r.neighbours=[];for(var o=0,t=e.polygons.length;o<t;o++){if(r!==e.polygons[o])if(!(n.squaredDistance(r.centroid,e.polygons[o].centroid)>1e4))this.arrayIntersect(r.vertexIds,e.polygons[o].vertexIds).length>=2&&r.neighbours.push(e.polygons[o])}},r.getSharedVerticesInOrder=function(r,e){var n=r.vertexIds,o=n[0],t=n[1],i=n[2],s=e.vertexIds,u=s.includes(o),c=s.includes(t),l=s.includes(i);return u&&c&&l?Array.from(n):u&&c?[o,t]:c&&l?[t,i]:u&&l?[i,o]:(console.warn("Error,neighbors with <2 shared vertices found."),[])},r.buildPolygonGroups=function(r){var e=r.polygons,n=[],o=0;function t(r){for(var e=0,n=r.neighbours.length;e<n;e++){var o=r.neighbours[e];null==o.group&&(o.group=r.group,t(o))}}for(var i=0,s=e.length;i<s;i++){var u=e[i];null==u.group&&(u.group=o++,t(u)),n[u.group]||(n[u.group]=[]),n[u.group].push(u)}return n},r.arrayIntersect=function(){for(var r,e,n,o,t,i,s=[],u={},c=arguments.length,l=new Array(c),g=0;g<c;g++)l[g]=arguments[g];for(i=l.length-1,n=l[0].length,e=0,r=0;r<=i;r++)(o=l[r].length)<n&&(e=r,n=o);for(r=0;r<=i;r++){t=l[o=r===e?0:r||e].length;for(var h=0;h<t;h++){var a=l[o][h];u[a]===r-1?r===i?(s.push(a),u[a]=0):u[a]=r:0===r&&(u[a]=0)}}return s},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CameraCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,h,s,n,r,a,o,c,p,l,u,g,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,h=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,a=t.Node,o=t.Camera,c=t.Vec3,p=t.math,l=t.input,u=t.Input,g=t.Vec2,_=t.Component}],execute:function(){var d,f,v,T,C,E,y;n._RF.push({},"b5de9xKIPxFB7Lh7hbsdRfE","CameraCtrl",void 0);var M=r.ccclass,m=r.property;t("CameraCtrl",(d=M("CameraCtrl"),f=m(a),v=m(o),d((E=i((C=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i=t.call.apply(t,[this].concat(n))||this,h(i,"target",E,s(i)),i.distance=30,i.otherHeight=10,i.minOtherHeight=3,i.maxOtherHeight=20,i.zoomSpeed=.05,i.minPolarAngle=10,i.maxPolarAngle=80,i.horizontalSensitivity=.2,i.verticalSensitivity=.1,i.rotationLerpSpeed=10,h(i,"camera",y,s(i)),i._spherical={radius:0,phi:0,theta:0},i._sphericalCurrent={radius:0,phi:0,theta:0},i._targetPos=new c,i._isDragging=!1,i._isRotating=!1,i._touchPoints=[],i._initialPinchDistance=0,i}e(i,t);var n=i.prototype;return n.start=function(){this._spherical.radius=this.distance,this._spherical.phi=p.toRadian(45),this._spherical.theta=0,this._sphericalCurrent.phi=this._spherical.phi,this._sphericalCurrent.theta=this._spherical.theta,this._sphericalCurrent.radius=this.distance,l.on(u.EventType.MOUSE_DOWN,this.onMouseDown,this),l.on(u.EventType.MOUSE_UP,this.onMouseUp,this),l.on(u.EventType.MOUSE_MOVE,this.onMouseMove,this),l.on(u.EventType.TOUCH_START,this.onTouchStart,this),l.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),l.on(u.EventType.TOUCH_END,this.onTouchEnd,this),l.on(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},n.onDestroy=function(){l.off(u.EventType.MOUSE_DOWN,this.onMouseDown,this),l.off(u.EventType.MOUSE_UP,this.onMouseUp,this),l.off(u.EventType.MOUSE_MOVE,this.onMouseMove,this),l.off(u.EventType.TOUCH_START,this.onTouchStart,this),l.off(u.EventType.TOUCH_MOVE,this.onTouchMove,this),l.off(u.EventType.TOUCH_END,this.onTouchEnd,this),l.off(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},n.update=function(t){if(this.target){this._targetPos.set(this.target.worldPosition),this._spherical.phi=p.clamp(this._spherical.phi,p.toRadian(this.minPolarAngle),p.toRadian(this.maxPolarAngle)),this._spherical.radius=this.distance,this._sphericalCurrent.radius=this.distance,this._isRotating&&(this._sphericalCurrent.theta=p.lerp(this._sphericalCurrent.theta,this._spherical.theta,t*this.rotationLerpSpeed),this._sphericalCurrent.phi=p.lerp(this._sphericalCurrent.phi,this._spherical.phi,t*this.rotationLerpSpeed));var i=new c(this._sphericalCurrent.radius*Math.sin(this._sphericalCurrent.phi)*Math.sin(this._sphericalCurrent.theta),this._sphericalCurrent.radius*Math.cos(this._sphericalCurrent.phi),this._sphericalCurrent.radius*Math.sin(this._sphericalCurrent.phi)*Math.cos(this._sphericalCurrent.theta)),e=this._targetPos.clone().add(i);if(this.node.setWorldPosition(e),this.node.lookAt(this._targetPos),this.camera){var h=this.camera.orthoHeight,s=this.otherHeight;this.camera.orthoHeight=p.lerp(h,s,10*t)}}},n.onMouseDown=function(t){0===t.getButton()&&(this._isDragging=!0)},n.onMouseUp=function(t){0===t.getButton()&&(this._isDragging=!1,this._isRotating=!1)},n.onMouseMove=function(t){if(this._isDragging){var i=t.getDelta();this._spherical.theta-=p.toRadian(i.x*this.horizontalSensitivity),this._spherical.phi-=p.toRadian(i.y*this.verticalSensitivity),this._isRotating=!0}},n.onTouchStart=function(t){var i=t.getTouches();if(1===i.length)this._isDragging=!0,this._touchPoints=[i[0].getLocation()];else if(i.length>=2){var e=i[0].getLocation(),h=i[1].getLocation();this._initialPinchDistance=g.distance(e,h)}},n.onTouchMove=function(t){var i=t.getTouches(),e=i.map((function(t){return t.getLocation()}));if(1===i.length&&this._isDragging){var h=t.getDelta();this._spherical.theta-=p.toRadian(h.x*this.horizontalSensitivity),this._spherical.phi+=p.toRadian(h.y*this.verticalSensitivity),this._isRotating=!0}else if(e.length>=2&&e[0]&&e[1]&&this._isDragging){var s=g.distance(e[0],e[1]),n=this._initialPinchDistance-s;this.otherHeight+=n*this.zoomSpeed,this.otherHeight=p.clamp(this.otherHeight,this.minOtherHeight,this.maxOtherHeight),this._initialPinchDistance=s,this.camera.orthoHeight=this.otherHeight}},n.onTouchEnd=function(t){t.getTouches().length<=1&&(this._isDragging=!1,this._isRotating=!1),this._touchPoints=[],this._initialPinchDistance=0},i}(_)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(C.prototype,"camera",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=C))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/Channel.ts",["cc","./nUtils.ts"],(function(t){var n,i;return{setters:[function(t){n=t.cclegacy},function(t){i=t.nUtils}],execute:function(){n._RF.push({},"53eb6n9zLJJKLVcIiMEG80P","Channel",void 0);t("Channel",function(){function t(t,n){void 0===t&&(t=[]),void 0===n&&(n=new Array),this.portals=t,this.path=n}var n=t.prototype;return n.push=function(t,n){void 0===n&&(n=null),null==n&&(n=t),this.portals.push({left:t,right:n})},n.stringPull=function(){var t,n,e,r=this.portals,l=[],h=0,a=0,u=0;t=r[0].left,n=r[0].left,e=r[0].right,l.push(t);for(var s=1;s<r.length;s++){var o=r[s].left,f=r[s].right;if(i.triarea2(t,e,f)<=0){if(!(i.vequal(t,e)||i.triarea2(t,n,f)>0)){l.push(n),n=t=n,e=t,a=h=a,u=h,s=h;continue}e=f,u=s}if(i.triarea2(t,n,o)>=0){if(!(i.vequal(t,n)||i.triarea2(t,e,o)<0)){l.push(e),n=t=e,e=t,a=h=u,u=h,s=h;continue}n=o,a=s}}0!==l.length&&i.vequal(l[l.length-1],r[r.length-1].left)||l.push(r[r.length-1].left),this.path=l,this.path.shift()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Character.Animation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrode.Pick.Animation.ts"],(function(t){var n,a,i,o,e,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy,i=t._decorator,o=t.animation,e=t.Animation,r=t.Component},function(t){s=t.Wardrode_Pick_Animation}],execute:function(){var c,u;a._RF.push({},"059c1wrXCVCyZzwAYH8t9Te","Character.Animation",void 0);var l=i.ccclass;i.property,t("Character_Animation",l("Character_Animation")(((u=function(t){function a(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).animator=null,n}n(a,t);var i=a.prototype;return i.onLoad=function(){a.Instance=this,this.animator=this.node.getComponent(o.AnimationController)},i.start=function(){this.node.getComponent(e)},i.setAnim=function(t){var n=this.animator.getValue("animPose");this.animator.setValue("animPose",t),this.animator.setValue("backIdle",n)},i.setDefault=function(){var t=this.animator.getValue("animPose");this.animator.setValue("animPose",0),this.animator.setValue("backIdle",t)},i.call=function(){s.Instance.showBtnChup()},a}(r)).Instance=null,c=u))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/Character.Config.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,n,c;return{setters:[function(r){t=r.inheritsLoose},function(r){e=r.cclegacy,n=r._decorator,c=r.Component}],execute:function(){var o;e._RF.push({},"f599c8OfMpPcIGqLSrOpTKi","Character.Config",void 0);var i=n.ccclass;n.property,r("Character_Config",i("Character_Config")(o=function(r){function e(){return r.apply(this,arguments)||this}return t(e,r),e}(c))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/Character.Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Utils.ts","./Character.Main.ts","./EnumManager.ts","./Wardrobe.MainCamera.Controller.ts","./UtilsColor.ts","./FaceController.ts"],(function(e){var t,n,r,a,o,i,c,s,u,l,d,f,p,h,y,m,C,x,v,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Node,l=e.director,d=e.Vec3,f=e.tween,p=e.Component,h=e.Prefab},function(e){y=e.GameManager},function(e){m=e.Utils},function(e){C=e.Character_Main},function(e){x=e.enumSex},function(e){v=e.Wardrobe_MainCamera_Controller},function(e){g=e.UtilsColor},function(e){b=e.FaceController}],execute:function(){var w,B,P,S,M,_;c._RF.push({},"c8fc15E2GhNL6bV+dIT+v6F","Character.Controller",void 0);var R=s.ccclass,k=s.property;e("Character_Controller",(w=R("Character_Controller"),B=k(u),w(((_=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"parentBody",M,a(t)),t.maxZoom=2,t.minZoom=.4,t}n(t,e);var c=t.prototype;return c.onLoad=function(){var e=this;t.Instance=this,this.SetBody(),l.on("changeSex",(function(t){e.SetBody(),v.Instance.setCameraBySex()}))},c.Reset=function(){this.node.setPosition(d.ZERO)},c.ZoomPlayer=function(e,t){var n=this.parentBody.getScale().x+e;n<this.maxZoom&&n>=this.minZoom?f(this.parentBody).to(.3,{scale:new d(n,n,n)}).call((function(){t&&t()})).start():t()},c.ResetScale=function(){f(this.parentBody).to(.3,{scale:d.ONE}).start()},c.SetBody=function(){var e=o(i().mark((function e(){var t,n,r,a,o,c,s,u,l,f,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.parentBody.removeAllChildren(),this.node.setPosition(new d(0,2e3,0)),e.next=4,this.preloadAsset(y.dataPlayer.outfit);case 4:return t=y.dataPlayer.body.id,n=y.dataGame.Body.find((function(e){return e.id==t})),e.next=8,m.getResPrefab(n.url);case 8:return r=e.sent,e.next=11,m.addNode(this.parentBody,r);case 11:return a=e.sent,o=a.getComponent(C).parentHead,c=y.dataPlayer.face.id,s=y.dataGame.Face.find((function(e){return e.id==c})),e.next=17,m.getResPrefab(s.url);case 17:return u=e.sent,e.next=20,m.addNode(o,u);case 20:e.sent,l=y.dataPlayer.color,f=g.hexToColor(l.find((function(e){return"face"==e.type})).color),p=g.hexToColor(l.find((function(e){return"body"==e.type})).color),C.Instance.setColorSkin(p),b.Instance.setColor(f);case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.preloadAsset=function(){var e=o(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadData(t);case 2:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.loadData=function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=3;break}return e.abrupt("return");case 3:return n=y.sex==x.female?"Female":"Male",r=y.dataGame.Clothes.find((function(e){return e.type==n})),a=r.component.find((function(e){return e.type==t.type})),o=a.items.find((function(e){return e.id==t.id})).url,e.next=9,m.getDataAsset(o,h);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}(p)).Instance=void 0,M=t((S=_).prototype,"parentBody",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S))||P));c._RF.pop()}}}));

System.register("chunks:///_virtual/Character.Equipment.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,c=t.Component}],execute:function(){var u;r._RF.push({},"654f7cuHNBBkKF4Axb0YsmH","Character.Equipment",void 0);var i=n.ccclass;n.property,t("Character_Equipment",i("Character_Equipment")(u=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r}(c))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/Character.Face.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FaceController.ts","./Utils.ts","./Character.Main.ts"],(function(t){var e,n,r,a,c,s,o,u,i;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,s=t.Component},function(t){o=t.FaceController},function(t){u=t.Utils},function(t){i=t.Character_Main}],execute:function(){var p,f;a._RF.push({},"8efe7Fx7K5LvKDSPT1j/5tF","Character.Face",void 0);var l=c.ccclass;c.property,t("Character_Face",l("Character_Face")(((f=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var c=a.prototype;return c.onLoad=function(){a.Instance=this},c.getIcon=function(){var t=n(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.getResSpriteFrame(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.setMat=function(){var t=n(r().mark((function t(e,n){var a,c,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.split("/"),c=a[a.length-1],i.Instance.setDataEye(n,c),t.next=5,u.getResMat(e);case 5:s=t.sent,o.Instance.setMat(s,n);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),a}(s)).Instance=void 0,p=f))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/Character.Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./OutfitManager.ts","./SkinController.ts","./EnumManager.ts","./Utils.ts","./Character.Controller.ts","./UtilsColor.ts"],(function(t){var e,n,r,a,i,o,u,s,c,l,p,f,h,y,d,m,b,v,k,g,C,x,P,w,M,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,r=t.inheritsLoose,a=t.assertThisInitialized,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,s=t._decorator,c=t.Enum,l=t.Vec3,p=t.Node,f=t.MeshRenderer,h=t.Texture2D,y=t.animation,d=t.Component,m=t.instantiate,b=t.Prefab},function(t){v=t.GameManager},function(t){k=t.OutfitManager},function(t){g=t.SkinController},function(t){C=t.enumTypeSkin,x=t.layerCharacter,P=t.enumSex},function(t){w=t.Utils},function(t){M=t.Character_Controller},function(t){O=t.UtilsColor}],execute:function(){var D,T,z,E,H,B,S,R,_,A,G,I,F,L,U,N,J,Z,j,Q,V,W,q,K,X,Y,$;u._RF.push({},"6aa636JylZMopRJamuHydQz","Character.Main",void 0);var tt=s.ccclass,et=s.property,nt=t("configDeltaComponent",(D=tt("configDeltaComponent"),T=et({type:c(C)}),z=et(l),D((B=e((H=function(){n(this,"type",B,this),n(this,"delta",S,this)}).prototype,"type",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.top}}),S=e(H.prototype,"delta",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),E=H))||E));t("Character_Main",(R=tt("Character_Main"),_=et(p),A=et(p),G=et(p),I=et(p),F=et(p),L=et(f),U=et(h),N=et(nt),R((($=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,n(e,"parentOutfit",j,a(e)),n(e,"parentHead",Q,a(e)),n(e,"parentBack",V,a(e)),n(e,"parentBut",W,a(e)),n(e,"parentPet",q,a(e)),n(e,"body",K,a(e)),n(e,"textureDefault",X,a(e)),e.listNameMask=["maskTexture1","maskTexture2","maskTexture3","maskTexture4","maskTexture5","maskTexture6"],n(e,"listConfig",Y,a(e)),e.animationController=null,e}r(e,t);var u=e.prototype;return u.onLoad=function(){e.Instance=this},u.start=function(){this.animationController=this.node.getComponent(y.AnimationController),this.setOutfitPlayer()},u.setColorSkin=function(t){var n=this.body.materials;n&&n.forEach((function(e){e.setProperty("mainColor",t)}));var r=O.colorToHex(t);e.Instance.setDataColor("body",r)},u.getColor=function(){return this.body.materials[0].getProperty("mainColor")},u.setDataSkin=function(){var t=i(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=v.dataPlayer.outfit.find((function(t){return t.type==e})))||(v.dataPlayer.outfit.push({type:e,id:n}),r=v.dataPlayer.outfit.find((function(t){return t.type==e}))),r.type=e,r.id=n,t.next=6,this.setOutfitPlayer(e);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),u.cancelDataSkin=function(){var t=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.dataPlayer.outfit.find((function(t){return t.type==e})).id=null,t.next=4,this.setOutfitPlayer(e);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.setDataColor=function(){var t=i(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=v.dataPlayer.color.find((function(t){return t.type==e})))||(v.dataPlayer.color.push({type:e,color:n}),r=v.dataPlayer.color.find((function(t){return t.type==e}))),r.type=e,r.color=n;case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u.setDataEye=function(){var t=i(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=v.dataPlayer.eye.find((function(t){return t.type==e})))||(v.dataPlayer.eye.push({type:e,id:n,value:null}),r=v.dataPlayer.eye.find((function(t){return t.type==e}))),r.type=e,r.color=n;case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u.setDataMorph=function(){var t=i(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=v.dataPlayer.happy.find((function(t){return t.type==e})))||(v.dataPlayer.happy.push({id:null,type:e,value:n}),r=v.dataPlayer.happy.find((function(t){return t.type==e}))),r.type=e,r.value=n;case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u.ResetGlass=function(){this.parentPet.children.forEach((function(t){t.getComponent(g)&&t.destroy()})),this.parentBack.children.forEach((function(t){t.getComponent(g)&&t.destroy()})),this.parentBut.children.forEach((function(t){t.getComponent(g)&&t.destroy()})),this.parentHead.children.forEach((function(t){var e;t.getComponent(g)&&((null==(e=t.getComponent(g))?void 0:e.typeSkin)!=C.hair&&t.destroy())}))},u.setOutfitPlayer=function(){var t=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setOutfit(v.dataPlayer.outfit,e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.setOutfit=function(){var t=i(o().mark((function t(e,n){var r,a=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return r=e.find((function(t){return t.type==n})),t.next=4,this.setComponentOutfit(r);case 4:t.next=8;break;case 6:return t.next=8,Promise.all(e.map(i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.setComponentOutfit(e);case 2:case"end":return t.stop()}}),t)}))))).then((function(){M.Instance.Reset()}));case 8:this.setAlphaMask();case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),u.setComponentOutfit=function(){var t=i(o().mark((function t(e){var n,r,a,i,u,s,c,l,p,f,h,y;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.type,e.id){t.next=4;break}return t.abrupt("return");case 4:r=v.sex==P.female?"Female":"Male",a=v.dataGame.Clothes.find((function(t){return t.type==r})),i=a.component.find((function(t){return t.type==e.type})),u=i.items.find((function(t){return t.id==e.id})).url,s=null,t.t0=n,t.next=t.t0===C.hair||t.t0===C.Ear||t.t0===C.Glasses||t.t0===C.Headwear||t.t0===C.Mask?12:t.t0===C.top||t.t0===C.bot||t.t0===C.shoes?14:t.t0===C.Back?16:t.t0===C.Tail?18:t.t0===C.Pet?20:22;break;case 12:return s=this.parentHead,t.abrupt("break",22);case 14:return s=this.parentOutfit,t.abrupt("break",22);case 16:return s=this.parentBack,t.abrupt("break",22);case 18:return s=this.parentBut,t.abrupt("break",22);case 20:return s=this.parentPet,t.abrupt("break",22);case 22:return t.next=24,w.getDataAsset(u,b);case 24:return c=t.sent,l=c.find((function(t){var e;return(null==(e=t.data.getComponent(g))?void 0:e.getType())==n})),(p=s.children.find((function(t){var e;return(null==(e=t.getComponent(g))?void 0:e.typeSkin)==n})))&&p.destroy(),t.next=30,m(l);case 30:if((f=t.sent).parent=s,h=this.listConfig.find((function(t){return t.type==n})).delta,f.setPosition(h),n!=C.shoes){t.next=39;break}return t.next=37,k.getIsHighOutfit(l);case 37:y=t.sent,this.setHigh(y);case 39:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.setAlphaMask=function(){var t=this;this.scheduleOnce((function(){var e=t.body;if(e&&e.material){e.material.setProperty("alphaThreshold",.5);var n=[];t.parentOutfit.children.forEach((function(t){var e=t.getComponent(g);e&&e.isAlphaMask&&n.push(e.alphaMask)})),t.listNameMask.forEach((function(r,a){var i=n[a];i||(i=t.textureDefault),e.material.setProperty(r,i)}))}else console.log("không có")}),.01)},u.setHigh=function(t){var e=t?.05:0,n=this.node.position;this.node.setPosition(l.ZERO);var r=n.add(new l(0,e,0));this.node.setPosition(r);var a=t?1:0;this.animationController.setLayerWeight(x.Foot,a)},e}(d)).Instance=void 0,j=e((Z=$).prototype,"parentOutfit",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(Z.prototype,"parentHead",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(Z.prototype,"parentBack",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(Z.prototype,"parentBut",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(Z.prototype,"parentPet",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(Z.prototype,"body",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(Z.prototype,"textureDefault",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(Z.prototype,"listConfig",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Z))||J));u._RF.pop()}}}));

System.register("chunks:///_virtual/Character.Morph.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FaceController.ts","./Utils.NumberArray.ts"],(function(t){var e,r,o,s,n,h,i,a,l,p,u,g,m,c,f,_,v,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.createClass},function(t){h=t.cclegacy,i=t._decorator,a=t.Prefab,l=t.Layout,p=t.MeshRenderer,u=t.instantiate,g=t.find,m=t.Label,c=t.Slider,f=t.EventHandler,_=t.Component},function(t){v=t.FaceController},function(t){d=t.Utils_NumberArray}],execute:function(){var b,C,M,y,w,N,I,L;h._RF.push({},"bb227ZRxU1GFq7mUxQN9pHN","Character.Morph",void 0);var P=i.ccclass,F=i.property,S=i.executeInEditMode;t("Character_Morph",(b=P("Character_Morph"),C=F({type:a}),M=F({type:l}),y=F({type:d}),b(w=S((I=e((N=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),h=0;h<r;h++)n[h]=arguments[h];return(e=t.call.apply(t,[this].concat(n))||this)._weightsControl=[],e._modelComp=null,e._morph=void 0,e._totalTargets=[],e._targetNames=[],o(e,"controlItemPrfb",I,s(e)),o(e,"itemLayout",L,s(e)),e}r(e,t);var h=e.prototype;return h.setWeight=function(t){if(0!==t.length)for(var e=this.dataConversion(t),r=0;r<this._morph.subMeshMorphs.length;++r)if(this._morph.subMeshMorphs[r])for(var o=0;o<this._morph.subMeshMorphs[r].targets.length;++o)this._modelComp.setWeight(e[r][o],r,o)},h.dataConversion=function(t){for(var e=[],r=0,o=0;o<this._morph.subMeshMorphs.length;++o)e[o]=[],this._morph.subMeshMorphs[o]?(e[o]=t[r].array,++r):e[o]=null;return e},h.start=function(){var t;if(this._modelComp=null==(t=v.Instance)?void 0:t.nodeFace.getComponent(p),this._modelComp){var e=this._modelComp.mesh;if(e&&(this._morph=e.struct.morph,this._morph))if(0!==this._morph.subMeshMorphs.length){var r=this._morph.subMeshMorphs.find((function(t){return!!t}));if(r){this._morph.subMeshMorphs.every((function(t){return!t||t.targets.length===r.targets.length}))||console.warn("not all submesh count are the same");for(var o=[],s=0;s<this._morph.subMeshMorphs.length;s++)this._morph.subMeshMorphs[s]&&o.push(this._morph.subMeshMorphs[s]);for(var n=0;n<this._morph.targetNames.length;n++){var h=this._morph.targetNames[n].split(".");this._targetNames.push(h[h.length-1])}for(var i=[],a=0;a<o.length;a++){var l=o[a]&&o[a].targets.length>0?o[a].targets.length:0;i.push(l)}this._totalTargets=i;for(var u=0;u<i.length;u++){var g=new d(i[u]);this.weightsControl.push(g)}this.initUI()}else console.warn("all submesh don't have morph")}else console.warn("submesh count is 0")}},h.initUI=function(){for(var t,e=0;e<1;e++)for(var r=0;r<this._totalTargets[e];r++){var o,s,n=u(this.controlItemPrfb);n.parent=this.itemLayout.node;var h=null==(o=g("Name",n))?void 0:o.getComponent(m);h&&(this._targetNames[r]?h.string="Shape "+r+" : "+this._targetNames[r]:h.string=""+r);var i=null==(s=g("Slider",n))?void 0:s.getComponent(c),a=new f;a.target=this.node,a.handler="onSliderChanged",a.component="Character_Morph";var p=this._totalTargets.length+","+r;a.customEventData=p,null==i||i.slideEvents.push(a)}null==(t=this.itemLayout.getComponent(l))||t.updateLayout()},h.onSliderChanged=function(t,e){for(var r=e.split(","),o=Number.parseInt(r[0]),s=Number.parseInt(r[1]),n=0;n<o;n++)this.weightsControl[n].array[s]=t.progress,this.weightsControl=this.weightsControl},n(e,[{key:"weightsControl",get:function(){return this._weightsControl},set:function(t){t.length==this._totalTargets.length&&(this._weightsControl=t,this.setWeight(this._weightsControl))}}]),e}(_)).prototype,"controlItemPrfb",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(N.prototype,"itemLayout",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(N.prototype,"weightsControl",[y],Object.getOwnPropertyDescriptor(N.prototype,"weightsControl"),N.prototype),w=N))||w)||w));h._RF.pop()}}}));

System.register("chunks:///_virtual/Character.SetAnim.Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(n){var t,i,a,e,r,o,s;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,a=n._decorator,e=n.animation,r=n.macro,o=n.Component},function(n){s=n.Utils}],execute:function(){var c;i._RF.push({},"88861dCMQBND4zKKPimYoWU","Character.SetAnim.Main",void 0);var l=a.ccclass,u=(a.property,n("enumStatusAnim",function(n){return n.isKiss="isKiss",n.isAshamed="isAshamed",n.isSayHi="isSayHi",n}({})));n("Character_SetAnim_Main",l("Character_SetAnim_Main")(c=function(n){function i(){for(var t,i=arguments.length,a=new Array(i),e=0;e<i;e++)a[e]=arguments[e];return(t=n.call.apply(n,[this].concat(a))||this).animationCtrl=null,t.lastAnim="",t}return t(i,n),i.prototype.onLoad=function(){var n=this;this.animationCtrl=this.node.getComponent(e.AnimationController),this.schedule((function(){for(var t in u)n.animationCtrl.setValue(t,!1);for(;;){var i=s.random(0,s.getEnumLength(u)-1),a=s.getEnumValueByIndex(u,i);if(n.lastAnim!=a){n.lastAnim=a,n.animationCtrl.setValue(a,!0);break}}}),7,r.REPEAT_FOREVER,0)},i}(o))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/ClampedCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Builder.ts","./NavMesh.ts","./joy-stick.ts"],(function(t){var e,n,i,o,s,a,r,h,p,u,c,l,d,m,g,y,E,v,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,h=t._decorator,p=t.JsonAsset,u=t.Vec3,c=t.v3,l=t.input,d=t.Input,m=t.KeyCode,g=t.Component,y=t.SkeletalAnimationComponent},function(t){E=t.Builder},function(t){v=t.NavMesh},function(t){_=t.JoyStick}],execute:function(){var f,K,Y,S,A,C,k,z;r._RF.push({},"34f9e/owaNHE6LE98+egryH","ClampedCtrl",void 0);var D,M=new u,b=new u,R=h.ccclass,w=h.property,j=(h.type,"idle");t("ClampedCtrl",(f=R("ClampedCtrl"),K=w(p),Y=w(_),f(((z=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"navUrl",C,o(e)),i(e,"joyStick",k,o(e)),e.KEY_A=!1,e.KEY_W=!1,e.KEY_S=!1,e.KEY_D=!1,e.jumping=!1,e.canMove=!0,e.jumpstate=0,e.speed=new u(0,0,0),e.jumpSpeed=c(0,8,0),e.targetSpeed=new u(0,0,0),e.rotation=0,e.targetRotation=180,e._currentAnim="",e.speedAmount=.05,e.zone=null,e.anm=null,e.anmName=null,e}n(e,t);var r=e.prototype;return r.onEnable=function(){var t=s(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.anm=this.node.getComponent(y),this.playLoopAnm(j),e=E.buildZoneByJson(this.navUrl.json),this.zone=this.navUrl.name,v.setZoneData(this.zone,e),this._registerEvent();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onDisable=function(){v.clearZoneData(this.zone),this._unregisterEvent()},r._registerEvent=function(){l.on(d.EventType.KEY_UP,this.onKeyUp,this),l.on(d.EventType.KEY_DOWN,this.onKeyDown,this),this._currentAnim=null},r._unregisterEvent=function(){l.off(d.EventType.KEY_UP,this.onKeyUp,this),l.off(d.EventType.KEY_DOWN,this.onKeyDown,this)},r.playLoopAnm=function(t){this.anmName!=t&&(this.anm.play(t),this.anmName=t)},r.rotateRole=function(t){this.targetRotation=Math.atan2(t.x-this.node.position.x,t.z-this.node.position.z)*(180/Math.PI)%360,this.node.setRotationFromEuler(0,this.targetRotation,0)},r.update=function(t){this.stickCtrl(t)},r.getClamped=function(t){var e=v.getGroup(this.zone,t),n=v.getClosestNode(t,this.zone,e);return v.clampStep(t,n,this.zone,e,b),b},r.heroMove=function(){e.moving&&(u.add(M,this.node.position,this.speed),this.node.setPosition(this.getClamped(M)),this.node.setRotationFromEuler(0,this.targetRotation))},r.stickCtrl=function(t){e.moving?(this.targetRotation=this.joyStick.rotation,D=this.targetRotation*Math.PI/180,this.targetSpeed.x=this.speedAmount*Math.sin(D),this.targetSpeed.z=this.speedAmount*Math.cos(D),u.lerp(this.speed,this.speed,this.targetSpeed,5*t),this.heroMove(),this.playLoopAnm("run")):this.playLoopAnm(j)},r.keyCtrl=function(t){D=this.targetRotation*Math.PI/180,this.targetSpeed.x=this.targetSpeed.z=0,e.moving=!1,this.KEY_W&&(this.targetSpeed.x=this.speedAmount*Math.sin(D),this.targetSpeed.z=this.speedAmount*Math.cos(D),e.moving=!0),this.KEY_A&&(this.jumping||(this.targetRotation+=180*t),e.moving=!0),this.KEY_S?(this.targetSpeed.x=this.speedAmount*Math.sin(D),this.targetSpeed.z=this.speedAmount*Math.cos(D),e.moving=!0):this.KEY_D&&(this.jumping||(this.targetRotation-=180*t),e.moving=!0),e.moving?(u.lerp(this.speed,this.speed,this.targetSpeed,5*t),this.playLoopAnm("run")):(this.speed.x=this.speed.z=0,this.playLoopAnm(j)),this.heroMove()},r.onKeyDown=function(t){switch(t.keyCode){case m.KEY_A:this.KEY_A=!0;break;case m.KEY_W:this.KEY_W=!0;break;case m.KEY_D:this.KEY_D=!0;break;case m.KEY_S:this.KEY_S=!0}},r.onKeyUp=function(t){switch(t.keyCode){case m.KEY_A:this.KEY_A=!1;break;case m.KEY_W:this.KEY_W=!1;break;case m.KEY_D:this.KEY_D=!1;break;case m.KEY_S:this.KEY_S=!1,this.targetRotation+=180}},e}(g)).moving=!1,C=e((A=z).prototype,"navUrl",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"joyStick",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=A))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/ColorPicker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.Main.ts","./FaceController.ts","./HairController.ts","./UtilsColor.ts"],(function(e){var t,o,r,i,n,a,s,l,c,h,u,d,g,p,v,C,b,f,S,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.Node,l=e.Enum,c=e.Slider,h=e.UITransform,u=e.Vec3,d=e.Color,g=e.ImageAsset,p=e.Texture2D,v=e.SpriteFrame,C=e.Sprite,b=e.Component},function(e){f=e.Character_Main},function(e){S=e.FaceController},function(e){m=e.HairController},function(e){y=e.UtilsColor}],execute:function(){var x,w,B,V,R,T,H,M,I,k,z,P,_,G;n._RF.push({},"153b8Lo6klAaZg0Iu6B6JVo","ColorPicker",void 0);var A=a.ccclass,E=a.property,F=e("targetChangeColor",function(e){return e[e.body=0]="body",e[e.hair=1]="hair",e}({}));e("ColorPicker",(x=A("ColorPicker"),w=E(s),B=E(s),V=E(s),R=E({type:l(F)}),T=E(c),x(((G=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"hueBar",I,i(t)),r(t,"svBox",k,i(t)),r(t,"colorDisplay",z,i(t)),t.hueValue=0,r(t,"target",P,i(t)),t.colorRevert=void 0,r(t,"sliderHue",_,i(t)),t}o(t,e);var n=t.prototype;return n.onEnable=function(){switch(t.Instance=this,this.svBox.on(s.EventType.TOUCH_START,this.onTouchMoveSV,this),this.svBox.on(s.EventType.TOUCH_MOVE,this.onTouchMoveSV,this),this.target){case F.hair:this.colorRevert=m.Instance.getColor();break;case F.body:this.colorRevert=S.Instance.getColor()}if(this.colorRevert){var e=y.rgbToHsv(this.colorRevert.r,this.colorRevert.g,this.colorRevert.b),o=e.h;this.sliderHue.progress=o;var r=this.svBox.getComponent(h).contentSize,i=e.s*r.width,n=(1-e.v)*r.height;this.svBox.children[0].setPosition(new u(i,n))}},n.start=function(){this.createHueGradient(),this.createSVGradient(),this.updateSVColor()},n.onTouchMoveSV=function(e){var t=e.getUILocation(),o=new u(t.x,t.y);(o=this.svBox.getComponent(h).convertToNodeSpaceAR(o)).x,o.y,Math.abs(o.x)<this.svBox.getComponent(h).contentSize.x/2&&Math.abs(o.y)<this.svBox.getComponent(h).contentSize.y/2&&(this.svBox.children[0].setPosition(o),this.updateSVColor())},n.updateSVColor=function(e){var t=this.svBox.getComponent(h).contentSize,o=this.svBox.children[0].getPosition(),r=Math.min(Math.max(o.x,0),t.width),i=Math.min(Math.max(o.y,0),t.height),n=r/t.width,a=1-i/t.height,s=this.hueValue,l=y.hsvToRgb(s,n,a);this.setColorSkin(new d(l.r,l.g,l.b,1))},n.setColorSkin=function(e){switch(this.target){case F.body:f.Instance.setColorSkin(new d(e.r,e.g,e.b,255)),S.Instance.setColor(new d(e.r,e.g,e.b,255));break;case F.hair:m.Instance.setColor(new d(e.r,e.g,e.b,255))}},n.eventChangeHue=function(){var e=this.sliderHue.progress;this.hueValue=e,this.createSVGradient(),this.updateSVColor()},n.createHueGradient=function(){var e=this.hueBar.getComponent(h).width,t=this.hueBar.getComponent(h).height,o=document.createElement("canvas");o.width=e,o.height=t;var r=o.getContext("2d"),i=r.createLinearGradient(0,0,0,t);i.addColorStop(0,"rgb(255, 0, 0)"),i.addColorStop(1/6,"rgb(255, 255, 0)"),i.addColorStop(2/6,"rgb(0, 255, 0)"),i.addColorStop(.5,"rgb(0, 255, 255)"),i.addColorStop(4/6,"rgb(0, 0, 255)"),i.addColorStop(5/6,"rgb(255, 0, 255)"),i.addColorStop(1,"rgb(255, 0, 0)"),r.fillStyle=i,r.fillRect(0,0,e,t);var n=new g;n._nativeAsset=o;var a=new p;a.image=n;var s=new v;s.texture=a,this.hueBar.getComponent(C).spriteFrame=s},n.createSVGradient=function(){var e=this.svBox.getComponent(h).width,t=this.svBox.getComponent(h).height,o=document.createElement("canvas");o.width=e,o.height=t;var r=o.getContext("2d"),i=y.hsvToRgb(this.hueValue,1,1),n=r.createLinearGradient(0,0,e,0),a="rgba("+i.r+", "+i.g+",  "+i.b+", 1)";n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(1,a),r.fillStyle=n,r.fillRect(0,0,e,t);var s=r.createLinearGradient(0,0,0,t),l="rgba("+i.r+", "+i.g+",  "+i.b+", 0)";s.addColorStop(0,"rgba(0, 0, 0, 1)"),s.addColorStop(1,l),r.fillStyle=s,r.fillRect(0,0,e,t);var c=new g;c._nativeAsset=o;var u=new p;u.image=c;var d=new v;d.texture=u,this.svBox.getComponent(C).spriteFrame=d,this.updateSVColor()},t}(b)).Instance=void 0,I=t((M=G).prototype,"hueBar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(M.prototype,"svBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(M.prototype,"colorDisplay",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(M.prototype,"target",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.body}}),_=t(M.prototype,"sliderHue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=M))||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnumManager.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"c068at/2UNGkrZ69ekc8ZmI","EnumManager",void 0);e("enumCp",function(e){return e[e.normal=0]="normal",e[e.fqa=1]="fqa",e[e.fqa_view=2]="fqa_view",e}({})),e("layerCharacter",function(e){return e[e.main=0]="main",e[e.Foot=1]="Foot",e}({})),e("enumSex",function(e){return e.male="Male",e.female="Female",e}({})),e("enumUsed",function(e){return e.male="Male",e.female="Female",e.share="Share",e}({})),e("enumTypeSkin",function(e){return e.top="top",e.bot="bot",e.shoes="shoes",e.hair="hair",e.Back="Back",e.Ear="Ear",e.Glasses="Glasses",e.Headwear="Headwear",e.Mask="Mask",e.Tail="Tail",e.Pet="Pet",e}({})),e("enumMode",function(e){return e.Clothes="Clothes",e.Eye="Eye",e.Happy="Happy",e.Glass="Glass",e.Body="Body",e}({})),e("enumStatusMainCamera",function(e){return e[e.normal=0]="normal",e[e.forcusFace=1]="forcusFace",e[e.zoomOut=2]="zoomOut",e[e.zoomIn=3]="zoomIn",e}({})),e("enumTypeEquipment",function(e){return e.Back="Back",e.Ear="Ear",e.Glasses="Glasses",e.Headwear="Headwear",e.Mask="Mask",e.Tail="Tail",e}({})),e("enumTypeHappy",function(e){return e.Eye="Eye",e.Mouth="Mouth",e.Cheek="Cheek",e.Jaw="Jaw",e.Nose="Nose",e}({})),e("enumAnimationPose",function(e){return e.beachlayon="BooleanAct@beachlayon",e.dance1="BooleanAct@dance1",e.dance2="BooleanAct@dance2",e.djdance="BooleanAct@djdance",e.drink="BooleanAct@drink",e.piano="BooleanAct@piano",e.singing="BooleanAct@singing",e.sitbartable="BooleanAct@sitbartable",e.sitonsofa="BooleanAct@sitonsofa",e.talk1="BooleanAct@talk1",e.talk2="BooleanAct@talk2",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/FaceController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./EnumManager.ts","./Character.Face.ts","./Character.Main.ts","./UtilsColor.ts"],(function(e){var t,n,r,i,o,a,c,s,l,u,p,h,f,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,r=e.inheritsLoose,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.CCString,s=e.CCBoolean,l=e.MeshRenderer,u=e.Component},function(e){p=e.GameManager},function(e){h=e.enumSex},function(e){f=e.Character_Face},function(e){y=e.Character_Main},function(e){d=e.UtilsColor}],execute:function(){var m,F,C,g,v,b,M,T,x,z,P,S,w,_,D,I,E;o._RF.push({},"1895f6T6bhFmoRj6qL1gCPd","FaceController",void 0);var L=a.ccclass,O=a.property,R=e("typeFace",(m=L("typeFace"),F=O(c),C=O(s),g=O({type:c,visible:function(){return this.isCustom}}),v=O({type:c,visible:function(){return this.isCustom}}),m((T=t((M=function(){n(this,"type",T,this),n(this,"isCustom",x,this),n(this,"name",z,this),n(this,"urlFolder",P,this)}).prototype,"type",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(M.prototype,"isCustom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=t(M.prototype,"name",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=t(M.prototype,"urlFolder",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=M))||b));e("FaceController",(S=L("FaceController"),w=O({type:R,tooltip:"cố định 6 phần tử"}),S(((E=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).nodeFace=null,n(t,"listTypeFace",I,i(t)),t}r(t,e);var o=t.prototype;return o.onLoad=function(){var e=this;t.Instance=this,this.nodeFace=this.node.children[0],p.dataPlayer.eye.forEach((function(t){var n=e.getUrl(t);n&&f.Instance.setMat(n,t.type)})),p.dataPlayer.happy.forEach((function(t,n){var r=parseFloat(t.value);e.scheduleOnce((function(){return e.SetWeight(n,r)}))}))},o.getUrl=function(e){var t,n=p.sex==h.female?"Female":"Male";return null==(t=p.dataGame.Facecustom.find((function(e){return e.type==n})).component.find((function(t){return t.type==e.type})).items.find((function(t){return t.id==e.id})))?void 0:t.url},o.getDataType=function(){return this.listTypeFace},o.setMat=function(e,t){var n=this.listTypeFace.find((function(e){return e.type==t})),r=this.listTypeFace.indexOf(n);this.nodeFace.getComponent(l).setSharedMaterial(e,r)},o.SetWeight=function(e,t){var n=this.nodeFace.getComponent(l),r=n.mesh;r&&r.struct.morph?r.struct.morph.subMeshMorphs.forEach((function(r,i){n.setWeight(t,i,e)})):console.log("`Mesh không có BlendShape!")},o.setColor=function(e){var t=this.listTypeFace.find((function(e){return"head"==e.type})),n=this.listTypeFace.indexOf(t);this.nodeFace.getComponent(l).materials[n].setProperty("mainColor",e);var r=d.colorToHex(e);y.Instance.setDataColor("face",r)},o.getColor=function(){var e=this.listTypeFace.find((function(e){return"head"==e.type})),t=this.listTypeFace.indexOf(e);return this.nodeFace.getComponent(l).materials[t].getProperty("mainColor")},t}(u)).Instance=void 0,I=t((D=E).prototype,"listTypeFace",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=D))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/FQA.Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrobe.MainCamera.Controller.ts","./Wardrobe.Controller.ts","./Character.Controller.ts"],(function(e){var n,t,i,r,o,a,c,u,l,s,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,u=e.Component},function(e){l=e.Wardrobe_MainCamera_Controller},function(e){s=e.Wardrobe_Controller},function(e){d=e.Character_Controller}],execute:function(){var h,f,p,k,v,b,I,P,g,C,U,m,y,M;o._RF.push({},"d3556wLvOlEtbVcLYQKSgQQ","FQA.Controller",void 0);var _=a.ccclass,B=a.property,w=e("enumPopup",function(e){return e[e.UIMain=0]="UIMain",e[e.UIPick=1]="UIPick",e[e.Picture=2]="Picture",e[e.Background=3]="Background",e}({}));e("FQA_Controller",(h=_("FQA_Controller"),f=B(c),p=B(c),k=B(c),v=B(c),b=B(l),h(((M=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"nodeUIMain",g,r(n)),i(n,"nodeUIPick",C,r(n)),i(n,"nodePicture",U,r(n)),i(n,"nodeBackground",m,r(n)),i(n,"camera",y,r(n)),n}t(n,e);var o=n.prototype;return o.onLoad=function(){n.Instance=this},o.start=function(){this.active(w.UIMain),this.camera.setZoomOut()},o.OnClick_BackToMain=function(){var e=this;this.camera.node.position.y<.5?this.scheduleOnce((function(){e.active(w.UIMain)}),.6):this.active(w.UIMain),this.camera.setZoomOut()},o.OnClick_ShowPick=function(){this.active(w.UIPick),s.Instance.eventStart()},o.OnClick_Picture=function(){this.active(w.Picture)},o.OnClick_Background=function(){this.active(w.Background)},o.active=function(e){switch(this.nodeUIMain.active=!1,this.nodeUIPick.active=!1,this.nodePicture.active=!1,this.nodeBackground.active=!1,e){case w.UIMain:this.nodeUIMain.active=!0;break;case w.UIPick:this.nodeUIPick.active=!0;break;case w.Picture:this.nodePicture.active=!0;break;case w.Background:this.nodeBackground.active=!0}d.Instance.ResetScale()},n}(u)).Instance=null,g=n((P=M).prototype,"nodeUIMain",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(P.prototype,"nodeUIPick",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(P.prototype,"nodePicture",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(P.prototype,"nodeBackground",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(P.prototype,"camera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=P))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"34bdfUxT7FIJ4Si/8n0ZkAP","GameConfig",void 0),e("default",(function(){})).SCENE={MAIN:"MainScene",WARDROBE:"Wardrobe",LOADING:"Loading",FQA:"FQA",FQAView:"FQA-View"},n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["cc","./EnumManager.ts"],(function(a){var e,n,t;return{setters:[function(a){e=a.cclegacy,n=a._decorator},function(a){t=a.enumSex}],execute:function(){var r,u;e._RF.push({},"0e9aawhlIpB0YBx2FZSMDHn","GameManager",void 0);var l=n.ccclass;n.property,a("GameManager",l("GameManager")(((u=function(){function a(){}return a.ChangeSex=function(e){return this.sex=e,a.dataPlayer=a.sex==t.female?a.dataPlayerF:a.dataPlayerM,this.sex},a}()).dataPlayer=null,u.dataPlayerF=null,u.dataPlayerM=null,u.sex=t.male,u.dataGame=null,u.usedAPI=!1,r=u))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/HairController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UtilsColor.ts","./GameManager.ts","./Character.Main.ts"],(function(o){var n,r,t,e,a,i,l,c;return{setters:[function(o){n=o.inheritsLoose},function(o){r=o.cclegacy,t=o._decorator,e=o.MeshRenderer,a=o.Component},function(o){i=o.UtilsColor},function(o){l=o.GameManager},function(o){c=o.Character_Main}],execute:function(){var s,u;r._RF.push({},"5c8551pTH9EUbr7154N78nC","HairController",void 0);var C=t.ccclass;t.property,o("HairController",C("HairController")(((u=function(o){function r(){return o.apply(this,arguments)||this}n(r,o);var t=r.prototype;return t.onEnable=function(){r.Instance=this;var o=l.dataPlayer.color,n=i.hexToColor(o.find((function(o){return"hair"==o.type})).color);r.Instance.setColor(n)},t.setColor=function(o){var n=this.node.getComponentInChildren(e);n&&n.node.getComponent(e).materials.forEach((function(n){n.setProperty("mainColor",o)}));var r=i.colorToHex(o);c.Instance.setDataColor("hair",r)},t.getColor=function(){return this.node.getComponentInChildren(e).materials[0].getProperty("mainColor")},r}(a)).Instance=void 0,s=u))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/HueSlider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,n,i,a,c,u,s,l,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Sprite,u=e.Node,s=e.Vec3,l=e.UITransform,h=e.Color,p=e.Component}],execute:function(){var d,f,v,g,b,y;i._RF.push({},"b92c1PYPxpJqL7T0tmagxz6","HueSlider",void 0);var H=a.ccclass,T=a.property;e("HueSlider",(d=H("HueSlider"),f=T(c),d((b=t((g=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"colorPreview",b,n(t)),r(t,"onHueChanged",y,n(t)),t}o(t,e);var i=t.prototype;return i.start=function(){this.node.on(u.EventType.TOUCH_MOVE,this.updateHue,this),this.node.on(u.EventType.TOUCH_START,this.updateHue,this)},i.updateHue=function(e){var t=new s(e.getLocation().x,e.getLocation().y),o=this.node.getComponent(l).convertToNodeSpaceAR(t),r=this.node.getComponent(l).width,n=(o.x+r/2)/r;n=Math.min(1,Math.max(0,n)),this.colorPreview.color=this.hsvToRgb(n,1,1),this.onHueChanged(n)},i.hsvToRgb=function(e,t,o){var r=0,n=0,i=0,a=Math.floor(6*e),c=6*e-a,u=o*(1-t),s=o*(1-c*t),l=o*(1-(1-c)*t);switch(a%6){case 0:r=o,n=l,i=u;break;case 1:r=s,n=o,i=u;break;case 2:r=u,n=o,i=l;break;case 3:r=u,n=s,i=o;break;case 4:r=l,n=u,i=o;break;case 5:r=o,n=u,i=s}return new h(Math.floor(255*r),Math.floor(255*n),Math.floor(255*i),255)},t}(p)).prototype,"colorPreview",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(g.prototype,"onHueChanged",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),v=g))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemMove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ColorPicker.ts"],(function(t){var e,o,n,c,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,c=t.Node,i=t.Component},function(t){s=t.ColorPicker}],execute:function(){var r;o._RF.push({},"21048AvHKxCw4aQtbZJo3l8","ItemMove",void 0);var a=n.ccclass;n.property,t("ItemMove",a("ItemMove")(r=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))||this).constScaleX=1,e.constScaleY=1,e}return e(o,t),o.prototype.onLoad=function(){var t=this;this.constScaleX=this.node.parent.getScale().x,this.constScaleY=this.node.parent.getScale().y,this.node.on(c.EventType.TOUCH_START,(function(t){})),this.node.on(c.EventType.TOUCH_MOVE,(function(e){var o=e.getUIDelta();t.node.setPosition(t.node.position.x+o.x/t.constScaleX,t.node.position.y+o.y/t.constScaleY,0),s.Instance.updateSVColor()})),this.node.on(c.EventType.TOUCH_END,(function(t){}))},o}(i))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/joy-stick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClampedCtrl.ts"],(function(t){var i,e,o,n,r,s,a,c,h,u,l,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Vec3,c=t.Vec2,h=t.Node,u=t.UIOpacity,l=t.Component},function(t){d=t.ClampedCtrl}],execute:function(){var p,y,f,E,m,x,T,v,A,b,g,C;r._RF.push({},"0df005HeCFHbLgcmwtx6QL2","joy-stick",void 0);var w=s.ccclass,S=s.property,O=new a,R=new c;t("JoyStick",(p=w("JoyStick"),y=S({type:h}),f=S({type:h}),E=S({type:u}),m=S({type:h}),p((v=i((T=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,o(i,"maxRadius",v,n(i)),o(i,"touchArea",A,n(i)),o(i,"control",b,n(i)),o(i,"indexArrow",g,n(i)),o(i,"joyStick",C,n(i)),i.direction=new a,i.distance=0,i.magnitude=0,i.rotation=0,i._currentScreenVerticle=!0,i.startPos=new a,i.indexEuler=new a,i}e(i,t);var r=i.prototype;return r.onEnable=function(){this.touchArea.on(h.EventType.TOUCH_START,this.touchStart,this),this.touchArea.on(h.EventType.TOUCH_MOVE,this.touchMove,this),this.touchArea.on(h.EventType.TOUCH_END,this.touchEnd,this),this.touchArea.on(h.EventType.TOUCH_CANCEL,this.touchEnd,this),this.startPos=this.joyStick.position.clone()},r.onDisable=function(){this.touchArea.off(h.EventType.TOUCH_START,this.touchStart,this),this.touchArea.off(h.EventType.TOUCH_MOVE,this.touchMove,this),this.touchArea.off(h.EventType.TOUCH_END,this.touchEnd,this),this.touchArea.off(h.EventType.TOUCH_CANCEL,this.touchEnd,this)},r.touchStart=function(t){this.indexArrow.opacity=255,this.joyStick.setWorldPosition(t.getUILocation().x,t.getUILocation().y,0)},r.touchMove=function(t){d.moving=!0,t.getUILocation(R),this.joyStick.getWorldPosition(O),O.set(R.x-O.x,R.y-O.y,0),this.direction=O.clone().normalize(),this.distance=a.distance(O,a.ZERO),this.distance>=this.maxRadius&&(this.distance=this.maxRadius),this.magnitude=this.distance/this.maxRadius,a.multiplyScalar(O,this.direction,this.distance),this.rotation=-Math.atan2(this.direction.x,this.direction.y)*(180/Math.PI),this.rotation<=45&&this.rotation>=-45?this.indexEuler.z=0:this.rotation>45&&this.rotation<135?this.indexEuler.z=90:this.rotation<-45&&this.rotation>-135?this.indexEuler.z=-90:this.indexEuler.z=180,this.indexArrow.node.setRotationFromEuler(this.indexEuler),this.control.setPosition(O)},r.touchEnd=function(){this.indexArrow.opacity=0,d.moving=!1,this.magnitude=0,this.direction.set(a.ZERO),this.control.setPosition(a.ZERO),this.joyStick.setPosition(this.startPos)},i}(l)).prototype,"maxRadius",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),A=i(T.prototype,"touchArea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(T.prototype,"control",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(T.prototype,"indexArrow",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(T.prototype,"joyStick",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=T))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.Scene.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,c,o,a,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,a=e.Node,l=e.Component}],execute:function(){var s,u,p,d,h;c._RF.push({},"def09rv/JBFZpqASXzho71Q","Loading.Scene",void 0);var f=o.ccclass,v=o.property;e("Loading_Scene",(s=f("Loading_Scene"),u=v(a),s((h=n((d=function(e){function n(){for(var n,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return n=e.call.apply(e,[this].concat(c))||this,t(n,"child",h,r(n)),n}return i(n,e),n.prototype.onEnable=function(){var e=this;this.child.active=!1,this.scheduleOnce((function(){e.child.active=!0}),.5)},n}(l)).prototype,"child",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameManager.ts","./Utils.ts","./EnumManager.ts","./APIManager.ts"],(function(e){var t,r,n,a,o,i,s,u,c,l,f,p,d,h,m,g,b,w,S,P,y,v,k,D,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.CCBoolean,l=e.ProgressBar,f=e.Label,p=e.JsonAsset,d=e.Enum,h=e.screen,m=e.Size,g=e.director,b=e.Component,w=e.Prefab,S=e.resources},function(e){P=e.default},function(e){y=e.GameManager},function(e){v=e.Utils},function(e){k=e.enumCp,D=e.enumSex},function(e){x=e.APIManager}],execute:function(){var L,G,A,C,E,F,z,M,j,_,q,B,I,N,R,Q,J,T,V,O,U;s._RF.push({},"67cf1MlhX5FgaqrrRNa+1fH","LoadingController",void 0);var H=u.ccclass,W=u.property;e("LoadingController",(L=H("LoadingController"),G=W(c),A=W(l),C=W(f),E=W(f),F=W(c),z=W(p),M=W(p),j=W({type:d(k)}),_=W(c),L((I=t((B=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"usedAPI",I,a(t)),n(t,"progressBar",N,a(t)),n(t,"lbProgress",R,a(t)),n(t,"lbStatus",Q,a(t)),n(t,"isLoadData",J,a(t)),n(t,"JsonDataGame",T,a(t)),n(t,"jsonDataPlayer",V,a(t)),n(t,"cp",O,a(t)),n(t,"isProduct",U,a(t)),t}r(t,e);var s=t.prototype;return s.onLoad=function(){this.StartGame()},s.getAccessTokenFromCookie=function(){var e=document.cookie.match(/fqa_auth=([^;]+)/);if(!e)return null;try{var t=decodeURIComponent(e[1]);return JSON.parse(t).access_token||null}catch(e){return console.error("Lỗi khi parse fqa_auth:",e),null}},s.StartGame=function(){var e=o(i().mark((function e(){var t,r,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.isProduct=this.isProduct,e.next=3,this.jsonDataPlayer.json;case 3:if(t=e.sent,!(r=v.urlParam("id"))){e.next=8;break}return x.fqaGetProfileFriend(r,o(i().mark((function e(r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"2000"===r.msg.code&&null!=(a=r.data)&&a.male&&(t=r.data),n.SetDataGame(t),n.LoadScene(P.SCENE.FQAView);case 3:case"end":return e.stop()}}),e)})))),e.abrupt("return");case 8:x.access_token||(x.access_token=this.getAccessTokenFromCookie()),y.usedAPI=this.usedAPI,e.t0=this.cp,e.next=e.t0===k.normal?13:e.t0===k.fqa_view?16:e.t0===k.fqa?29:42;break;case 13:return this.SetDataGame(t),this.LoadScene(P.SCENE.WARDROBE),e.abrupt("break",42);case 16:if(this.usedAPI){e.next=20;break}return this.SetDataGame(t),this.LoadScene(P.SCENE.FQAView),e.abrupt("return");case 20:if(""!=x.access_token){e.next=27;break}return e.next=23,this.jsonDataPlayer.json;case 23:return t=e.sent,this.SetDataGame(t),this.LoadScene(P.SCENE.FQAView),e.abrupt("return");case 27:return x.fqaGetProfile(o(i().mark((function e(r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"2000"===r.msg.code&&(r.data&&null!=(a=r.data)&&a.male?t=r.data:x.fqaSetProfile(n.jsonDataPlayer.json),n.SetDataGame(t),n.LoadScene(P.SCENE.FQAView));case 1:case"end":return e.stop()}}),e)})))),e.abrupt("break",42);case 29:if(this.usedAPI){e.next=33;break}return this.SetDataGame(t),this.LoadScene(P.SCENE.FQA),e.abrupt("return");case 33:if(""!=x.access_token){e.next=40;break}return e.next=36,this.jsonDataPlayer.json;case 36:return t=e.sent,this.SetDataGame(t),this.LoadScene(P.SCENE.FQA),e.abrupt("return");case 40:return x.fqaGetProfile(o(i().mark((function e(r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"2000"===r.msg.code&&(r.data&&null!=(a=r.data)&&a.male?t=r.data:x.fqaSetProfile(n.jsonDataPlayer.json),n.SetDataGame(t),n.LoadScene(P.SCENE.FQA));case 1:case"end":return e.stop()}}),e)})))),e.abrupt("break",42);case 42:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.getSizeWindow=function(){var e=0,t=0,r=h.windowSize.width/1080,n=h.windowSize.height/1920;return r>n?(t=h.windowSize.width/n,e=1080):(e=h.windowSize.height/r,t=1920),new m(t,e)},s.SetDataGame=function(){var e=o(i().mark((function e(t){var r,n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.JsonDataGame.json;case 2:return y.dataGame=e.sent,y.dataPlayerF=t.female,y.dataPlayerM=t.male,e.next=7,t.gender;case 7:return r=e.sent,y.sex=0==r?D.female:D.male,y.dataPlayer=y.sex==D.female?y.dataPlayerF:y.dataPlayerM,n=y.dataPlayer.body.id,a=y.dataGame.Body.find((function(e){return e.id==n})),e.next=14,v.getResPrefab(a.url);case 14:return o=y.dataPlayer.face.id,s=y.dataGame.Face.find((function(e){return e.id==o})),e.next=18,v.getResPrefab(s.url);case 18:this.preloadAsset(y.dataPlayer.outfit);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.preloadAsset=function(){var e=o(i().mark((function e(t){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.loadDataPre(t);case 2:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.loadDataPre=function(){var e=o(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=3;break}return e.abrupt("return");case 3:return r=y.sex==D.female?"Female":"Male",n=y.dataGame.Clothes.find((function(e){return e.type==r})),a=n.component.find((function(e){return e.type==t.type})),o=a.items.find((function(e){return e.id==t.id})).url,e.next=9,v.getDataAsset(o,w);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.LoadScene=function(){var e=o(i().mark((function e(t){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.progressBar.progress=.03,this.lbProgress.string="3%",this.isLoadData?(this.lbStatus.string="Downloading...",S.loadDir("3DResource/Outfit/Female",o(i().mark((function e(t,n,a){var o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t/n*100,(o=Math.floor(o))>3&&(s=o/100,r.progressBar.progress=s,r.lbProgress.string=o+"%",r.lbStatus.string="Downloading...");case 3:case"end":return e.stop()}}),e)}))),(function(e,n){e?console.error("Lỗi khi tải tài nguyên:"):r.LoadSceneMain(t)}))):this.LoadSceneMain(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.loadData=function(){var e=o(i().mark((function e(t){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(){S.loadDir(t,o(i().mark((function e(t,n,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t/n*100,(o=Math.floor(o))>5&&(r.progressBar.progress=o/100,r.lbProgress.string=o+"%",r.lbStatus.string="Downloading...");case 3:case"end":return e.stop()}}),e)}))),(function(e,t){e?console.error("Lỗi khi tải tài nguyên:"):console.log("ok:")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.LoadSceneMain=function(e){var t=this;g.preloadScene(e,o(i().mark((function e(r,n,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r/n*100,o=Math.floor(o),t.progressBar.progress=o/100,t.lbProgress.string=o+"%",t.lbStatus.string="Downloading...";case 5:case"end":return e.stop()}}),e)}))),o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.loadScene(e);case 1:case"end":return t.stop()}}),t)}))))},t}(b)).prototype,"usedAPI",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=t(B.prototype,"progressBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(B.prototype,"lbProgress",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(B.prototype,"lbStatus",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(B.prototype,"isLoadData",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=t(B.prototype,"JsonDataGame",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(B.prototype,"jsonDataPlayer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"cp",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.fqa}}),U=t(B.prototype,"isProduct",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=B))||q));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Mirror.ts","./APIManager.ts","./GameManager.ts","./OutfitManager.ts","./CameraCtrl.ts","./GameConfig.ts","./EnumManager.ts","./FQA.Controller.ts","./Loading.Scene.ts","./LoadingController.ts","./FaceController.ts","./HairController.ts","./SkinController.ts","./parentSkin.ts","./ClampedCtrl.ts","./joy-stick.ts","./NavMeshAgent.ts","./Astar.ts","./BinaryHeap.ts","./Builder.ts","./Channel.ts","./NavMesh.ts","./Plane.ts","./Triangle.ts","./nUtils.ts","./PoolManager.ts","./ShaderToy.ts","./NavTest.ts","./RandomMatColor.ts","./SceneTest.ts","./ResizeCanvas.ts","./Character.Animation.ts","./Character.Config.ts","./Character.Controller.ts","./Character.Equipment.ts","./Character.Face.ts","./Character.Main.ts","./Character.Morph.ts","./Character.SetAnim.Main.ts","./Main.Controller.ts","./RotateModel.ts","./SpringHair.ts","./Test.ts","./Utils.LimitSize.ts","./Utils.NumberArray.ts","./Utils.Scrollview.ts","./Utils.ts","./UtilsColor.ts","./UIPick.Controller.ts","./Wardrobe.Background.Item.ts","./Wardrobe.Background.ts","./Wardrobe.Controller.ts","./Wardrobe.MainCamera.Controller.ts","./Wardrobe.Noti.ts","./Wardrobe.UIController.ts","./Wardrode.BGController.ts","./Wardrode.Body.Item.ts","./Wardrode.Body.ts","./Wardrode.ItemSex.ts","./Wardrode.Pick.Animation.Action.ts","./Wardrode.Pick.Animation.item.ts","./Wardrode.Pick.Animation.ts","./Wardrode.Pick.Capture.Save.ts","./Wardrode.Pick.Capture.ts","./Wardrode.Pick.Closthes.Item.ts","./Wardrode.Pick.Closthes.ts","./Wardrode.Pick.Color.ts","./Wardrode.Pick.Eye.Item.ts","./Wardrode.Pick.Eye.ts","./Wardrode.Pick.Glass.Item.ts","./Wardrode.Pick.Glass.Slider.ts","./Wardrode.Pick.Glass.ts","./Wardrode.Pick.Happy.ts","./Wardrode.Pick.Pet.Item.ts","./Wardrode.Pick.Pet.ts","./Wardrode.Pick.ts","./TestAddAlphaMask.ts","./ColorPicker.ts","./HueSlider.ts","./ItemMove.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameManager.ts","./Utils.ts","./Character.Main.ts"],(function(e){var n,t,r,a,o,i,c,u,s,l,p,d,f,y,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,s=e.Node,l=e.director,p=e.Component},function(e){d=e.default},function(e){f=e.GameManager},function(e){y=e.Utils},function(e){h=e.Character_Main}],execute:function(){var g,C,m,v,M;c._RF.push({},"5a5cdCVgfhE04qw2elq6POn","Main.Controller",void 0);var B=u.ccclass,_=u.property;e("Main_Controller",(g=B("Main_Controller"),C=_(s),g((M=n((v=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,r(n,"parentBody",M,a(n)),n}t(n,e);var c=n.prototype;return c.onLoad=function(){this.SetBody()},c.SetBody=function(){var e=o(i().mark((function e(){var n,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.dataPlayer.body.id,t=f.dataGame.Body.find((function(e){return e.index==n})),e.next=4,y.getResPrefab(t.url);case 4:return r=e.sent,e.next=7,y.addNode(this.parentBody,r);case 7:e.sent.getComponent(h).parentHead;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.OnClick_Happy=function(){l.loadScene(d.SCENE.WARDROBE)},n}(p)).prototype,"parentBody",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/Mirror.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,i,n,o,a,l,u,s,d,c,h,f,p,m;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,a=r._decorator,l=r.Camera,u=r.MeshRenderer,s=r.Texture2D,d=r.Material,c=r.RenderTexture,h=r.Node,f=r.Quat,p=r.Vec3,m=r.Component}],execute:function(){var g,M,w,b,y,C,_,x,T,P,v,R,z,k,N;o._RF.push({},"a2f50QLt4lElbvXG6ZPGkQJ","Mirror",void 0);var V=a.ccclass,D=a.property;r("Mirror",(g=V("Mirror"),M=D(l),w=D(u),b=D(s),y=D(s),C=D(s),_=D(d),g((P=e((T=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=r.call.apply(r,[this].concat(o))||this,i(e,"targetCamera",P,n(e)),i(e,"meshRenderer",v,n(e)),i(e,"reflTexture",R,n(e)),i(e,"reflMask",z,n(e)),i(e,"reflNoise",k,n(e)),i(e,"mirrorMaterial",N,n(e)),e._renderTexture=null,e._mirrorCamera=null,e}t(e,r);var o=e.prototype;return o.onLoad=function(){this._renderTexture=new c,this._renderTexture.reset({width:1024,height:1024}),this._mirrorCamera=new h("MirrorCamera").addComponent(l),this._mirrorCamera.node.parent=this.node.parent,this._mirrorCamera.targetTexture=this._renderTexture,this.meshRenderer.getMaterial(0).setProperty("reflTexture",this._renderTexture.getGFXTexture()),this.meshRenderer.getMaterial(0).setProperty("reflMask",this.reflMask),this.meshRenderer.getMaterial(0).setProperty("reflNoise",this.reflNoise)},o.update=function(){this.updateMirrorCamera()},o.updateMirrorCamera=function(){var r=this.getMirrorPoint(this.targetCamera.node.worldPosition,this.node.worldPosition,this.node.forward);this._mirrorCamera.node.worldPosition=r;var e=this.getMirrorVector(this.targetCamera.node.forward,this.node.forward),t=this.getMirrorVector(this.targetCamera.node.up,this.node.forward),i=new f;f.fromViewUp(i,e,t),this._mirrorCamera.node.worldRotation=i},o.getMirrorPoint=function(r,e,t){var i=p.dot(p.subtract(new p,r,e),t),n=new p;return p.scaleAndAdd(n,r,t,-2*i),n},o.getMirrorVector=function(r,e){return this.getMirrorPoint(r,new p,e)},e}(m)).prototype,"targetCamera",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(T.prototype,"meshRenderer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"reflTexture",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(T.prototype,"reflMask",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"reflNoise",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(T.prototype,"mirrorMaterial",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=T))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/NavMesh.ts",["cc","./Astar.ts","./Channel.ts","./nUtils.ts","./Plane.ts","./Triangle.ts"],(function(n){var e,t,r,o,s,i,a;return{setters:[function(n){e=n.cclegacy,t=n.Vec3},function(n){r=n.Astar},function(n){o=n.Channel},function(n){s=n.nUtils},function(n){i=n.Plane},function(n){a=n.Triangle}],execute:function(){e._RF.push({},"2ad69Row9tKGo6dR8xOoxwB","NavMesh",void 0);var u=new t,c=new i,l=new a,h=new t,v=new t,f=Math.pow(50,2);n("NavMesh",function(){function n(){}return n.setZoneData=function(n,e){this.zone[n]=e},n.clearZoneData=function(n){this.zone[n]=null},n.getGroup=function(n,e){if(!this.zone[n])return null;for(var r=null,o=f,s=0,i=this.zone[n].groups.length;s<i;s++)for(var a=this.zone[n].groups[s],u=0,c=a.length;u<c;u++){var l=a[u],h=t.squaredDistance(l.centroid,e);h<o&&(r=s,o=h)}return r},n.getRandomNode=function(n,e,r,o){if(!this.zone[n])return new t;r=r||null,o=o||0;var i=[];return this.zone[n].groups[e].forEach((function(n){r&&o?t.squaredDistance(r,n.centroid)<o*o&&i.push(n.centroid):i.push(n.centroid)})),s.sample(i)||new t},n.findPath=function(n,e,i,a){for(var u,c=this.zone[i].groups[a],l=this.zone[i].vertices,h=null,v=f,d=0,p=c.length;d<p;d++){var g=c[d];(u=t.squaredDistance(g.centroid,n))<v&&(h=g,v=u)}var z=null;v=f;for(var w=0,P=c.length;w<P;w++){var x=c[w];(u=t.squaredDistance(x.centroid,e))<v&&s.isVectorInPolygon(e,x,l)&&(z=x,v=u)}if(!h||!z)return null;var D=r.search(c,h,z),I=function(n,e){for(var t=0;t<n.neighbours.length;t++)if(n.neighbours[t]===e.id)return n.portals[t]},q=new o;q.push(n);for(var m=0;m<D.length;m++){var N=D[m],R=D[m+1];if(R){var b=I(N,R);q.push(l[b[0]],l[b[1]])}}return q.push(e),q.stringPull(),q.path},n.getClosestNode=function(n,e,r,o){void 0===o&&(o=!1);var i=this.zone[e].groups[r],a=this.zone[e].vertices,u=null,c=f;return i.forEach((function(e){var r=t.squaredDistance(e.centroid,n);r<c&&(!o||s.isVectorInPolygon(n,e,a))&&(u=e,c=r)})),u},n.clampStep=function(n,e,r,o,s){var i,a,d=this.zone[r].vertices,p=this.zone[r].groups[o],g=[e],z={};z[e.id]=0,u.set(0,0,0),i=f,c.setFromCoplanarPoints(d[e.vertexIds[0]],d[e.vertexIds[1]],d[e.vertexIds[2]]),c.projectPoint(n,h),v.set(h);for(var w=g.pop();w;w=g.pop()){l.set(d[w.vertexIds[0]],d[w.vertexIds[1]],d[w.vertexIds[2]]),l.closestPointToPoint(v,h),(a=t.squaredDistance(h,v))<i&&(u.set(h),i=a);var P=z[w.id];if(!(P>2))for(var x=0;x<w.neighbours.length;x++){var D=p[w.neighbours[x]];D.id in z||(g.push(D),z[D.id]=P+1)}}s.set(u)},n}()).zone={},e._RF.pop()}}}));

System.register("chunks:///_virtual/NavMeshAgent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nUtils.ts"],(function(t){var e,n,s,i,o,h,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator,i=t.SkeletalAnimationComponent,o=t.Vec3,h=t.Component},function(t){a=t.nUtils}],execute:function(){var r;n._RF.push({},"dfc11KeIodAQaGnodWJT/N8","NavMeshAgent",void 0);var l=s.ccclass;s.property,t("NavMeshAgent",l("NavMeshAgent")(r=function(t){function n(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).move=!1,e._path=[],e.speed=3,e.roleAngel=0,e.step=0,e.currstep=null,e.anm=null,e.anmName=null,e.rotateSpeed=400,e.pos=new o,e.des=new o,e.currentAngleY=0,e.targetAngleY=0,e}e(n,t);var s=n.prototype;return s.onEnable=function(){this.anm=this.node.getComponent(i),this.anmName=null,this.playLoopAnm("idle"),this.currentAngleY=this.node.eulerAngles.y},s.onDisable=function(){this.move=!1,this.anm=null,this._path.length=0,this.currstep=null,this.step=0},s.playLoopAnm=function(t){this.anmName!=t&&(this.anm.play(t),this.anmName=t)},s.startMove=function(t){this.stopMove(),this._path=t,this.move=!0},s.stopMove=function(){this.move=!1,this._path.length=0,this.step=0,this.currstep=null,this.playLoopAnm("idle")},s.update=function(t){this.move&&(this.playLoopAnm("run"),this.pos.set(this.node.position),this.currstep!==this.step&&(this.des.set(this._path[this.step]),this.rotateRole(this.pos,this.des),this.currstep=this.step),this.smoothRotate(t),a.MoveTowards(this.pos,this.pos,this.des,t*this.speed)&&this.changeStep(),this.node.setPosition(this.pos))},s.changeStep=function(){this.step++,this.step==this._path.length&&(this.playLoopAnm("idle"),this.move=!1)},s.rotateRole=function(t,e){this.targetAngleY=180*Math.atan2(e.x-t.x,e.z-t.z)/Math.PI%360,this.targetAngleY<0&&(this.targetAngleY+=360)},s.normalizeAngle=function(t){return(t%360+360)%360},s.smoothRotate=function(t){this.currentAngleY=this.normalizeAngle(this.currentAngleY),this.targetAngleY=this.normalizeAngle(this.targetAngleY);var e=this.targetAngleY-this.currentAngleY;if(e=(e+540)%360-180,Math.abs(e)>.1){var n=this.rotateSpeed*t;this.currentAngleY+=Math.sign(e)*Math.min(n,Math.abs(e)),this.currentAngleY=this.normalizeAngle(this.currentAngleY),this.node.setRotationFromEuler(0,this.currentAngleY,0)}},n}(h))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/NavTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NavMesh.ts","./NavMeshAgent.ts","./Builder.ts"],(function(e){var t,n,o,i,r,a,s,u,l,c,h,f,v,d,p,g,m,y,b,T,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.JsonAsset,u=e.CameraComponent,l=e.Vec3,c=e.input,h=e.Input,f=e.sys,v=e.view,d=e.macro,p=e.MeshRenderer,g=e.isValid,m=e.geometry,y=e.Component},function(e){b=e.NavMesh},function(e){T=e.NavMeshAgent},function(e){N=e.Builder}],execute:function(){var M,A,C,z,D,E,P,w,_;r._RF.push({},"16666ugOSRNLqk2sZ/HleKG","NavTest",void 0);var L=a.ccclass,S=a.property,U=new l,O=new l;e("default",(M=L("NavTest"),A=S(s),C=S(u),z=S(T),M((P=t((E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"navUrl",P,i(t)),o(t,"mainCamera",w,i(t)),o(t,"agent",_,i(t)),t.targetPos=new l,t.zone=null,t}n(t,e);var r=t.prototype;return r.start=function(){},r.onEnable=function(){c.on(h.EventType.TOUCH_END,this.screenTouch,this),this.changeScreeen();var e=N.buildZoneByJson(this.navUrl.json);this.zone=this.navUrl.name,b.setZoneData(this.zone,e)},r.onDisable=function(){N.cleanGeometry(),b.clearZoneData(this.zone),this.zone=null,c.off(h.EventType.TOUCH_END,this.screenTouch,this)},r.changeScreeen=function(){f.isBrowser&&f.isMobile&&v.setOrientation(d.ORIENTATION_LANDSCAPE)},r.screenTouch=function(e){var t=e.getLocation();this.getTouchModel(t)},r.getTouchModel=function(e){for(var t=this.mainCamera.screenPointToRay(e.x,e.y),n=this.node.parent.getComponentsInChildren(p),o=null,i=Number.MAX_VALUE,r=0;r<n.length;r++){var a=n[r];if(g(a.node,!0)&&a.node.active&&a.model){var s=m.intersect.rayModel(t,a.model,{mode:m.ERaycastMode.CLOSEST,doubleSided:!1,distance:Number.MAX_VALUE});s&&s<i&&(i=s,o=a)}}null!=o&&(t.computeHit(this.targetPos,i),this.moveAgent(this.agent,this.targetPos))},r.moveAgent=function(e,t){var n=this.findPath(this.zone,e.node.position,t);if(n&&n.length>0){e.startMove(n);for(var o=0,i=0;i<n.length;i++)this.setDebugNode(n[i],o),o+=50}else e.stopMove()},r.findPath=function(e,t,n){U.set(t);var o=b.getGroup(e,U);return O.set(n),b.findPath(U,O,e,o)},r.setDebugNode=function(e,t){void 0===t&&(t=0),setTimeout((function(){}),t)},t}(y)).prototype,"navUrl",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(E.prototype,"mainCamera",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(E.prototype,"agent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=E))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/nUtils.ts",["cc"],(function(n){var r,t;return{setters:[function(n){r=n.cclegacy,t=n.Vec3}],execute:function(){r._RF.push({},"8ee06Csgn5F7rr0XWn5nG1u","nUtils",void 0);n("nUtils",function(){function n(){}return n.roundNumber=function(n,r){var t=Math.pow(10,r);return Math.round(n*t)/t},n.isPointInPoly=function(n,r){for(var t=!1,e=-1,o=n.length,u=o-1;++e<o;u=e)(n[e].z<=r.z&&r.z<n[u].z||n[u].z<=r.z&&r.z<n[e].z)&&r.x<(n[u].x-n[e].x)*(r.z-n[e].z)/(n[u].z-n[e].z)+n[e].x&&(t=!t);return t},n.isVectorInPolygon=function(n,r,t){var e=1e5,o=-1e5,u=[];return r.vertexIds.forEach((function(n){e=Math.min(t[n].y,e),o=Math.max(t[n].y,o),u.push(t[n])})),!!(n.y<o+.5&&n.y>e-.5&&this.isPointInPoly(u,n))},n.MoveTowards=function(n,r,t,e){var o=t.x-r.x,u=t.y-r.y,i=t.z-r.z,a=o*o+u*u+i*i;if(0==a||e>=0&&a<=e*e)return n.set(t),!0;var c=Math.sqrt(a);return n.set(r.x+o/c*e,r.y+u/c*e,r.z+i/c*e),!1},n.triarea2=function(n,r,t){var e=r.x-n.x,o=r.z-n.z;return(t.x-n.x)*o-e*(t.z-n.z)},n.mergeVertices=function(n){var r,t,e,o,u,i={},a=new Array,c=[];for(e=0,o=n.vertices.length;e<o;e++)null==i[t=n.vertices[e]]?(i[t]=e,a.push(t),c[e]=a.length-1):c[e]=c[i[t]];var s=[];for(e=0,o=n.faces.length;e<o;e++){(u=n.faces[e])[0]=c[u[0]],u[1]=c[u[1]],u[2]=c[u[2]],r=u;for(var f=0;f<3;f++)if(r[f]==r[(f+1)%3]){s.push(e);break}}for(e=s.length-1;e>=0;e--){var h=s[e];n.faces.splice(h,1)}n.vertices=a},n.sample=function(n){return n[Math.floor(Math.random()*n.length)]},n.vequal=function(n,r){return t.distance(n,r)<1e-5},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/OutfitManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkinController.ts","./Utils.ts","./FaceController.ts"],(function(e){var t,n,r,a,u,c,s,o;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,u=e.Prefab},function(e){c=e.SkinController},function(e){s=e.Utils},function(e){o=e.FaceController}],execute:function(){var i;r._RF.push({},"77a42hqEnNFTq2oIkvNGMpJ","OutfitManager",void 0);var f=a.ccclass;a.property,e("OutfitManager",f("OutfitManager")(i=function(){function e(){}return e.getIconOutfit=function(){var e=t(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof u){e.next=6;break}return e.next=3,s.getResPrefab(t);case 3:r=e.sent,e.next=7;break;case 6:r=t;case 7:return a=r.data.getComponent(c).getIcon(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getTypeOutfit=function(){var e=t(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof u){e.next=6;break}return e.next=3,s.getResPrefab(t);case 3:r=e.sent,e.next=7;break;case 6:r=t;case 7:return a=r.data.getComponent(c).getType(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getNameUrlFolderOutfit=function(){var e=t(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof u){e.next=6;break}return e.next=3,s.getResPrefab(t);case 3:r=e.sent,e.next=7;break;case 6:r=t;case 7:return a=r.data.getComponent(c).getNameUrlFolder(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getIDFolderOutfit=function(){var e=t(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof u){e.next=6;break}return e.next=3,s.getResPrefab(t);case 3:r=e.sent,e.next=7;break;case 6:r=t;case 7:return a=r.data.getComponent(c).getId(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getAlphaMaskOutfit=function(){var e=t(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof u){e.next=6;break}return e.next=3,s.getResPrefab(t);case 3:r=e.sent,e.next=7;break;case 6:r=t;case 7:return a=r.data.getComponent(c).getAlphaMask(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getIsHighOutfit=function(){var e=t(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof u){e.next=6;break}return e.next=3,s.getResPrefab(t);case 3:r=e.sent,e.next=7;break;case 6:r=t;case 7:return a=r.data.getComponent(c).getIsHigh(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getDataFace=function(){var e=t(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof u){e.next=6;break}return e.next=3,s.getResPrefab(t);case 3:r=e.sent,e.next=7;break;case 6:r=t;case 7:return a=r.data.getComponent(o).getDataType(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}())||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/parentSkin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,r,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator,i=n.Component}],execute:function(){var o;t._RF.push({},"9d148QeX9NKAa0reeCwS8nR","parentSkin",void 0);var c=r.ccclass;r.property,n("parentSkin",c("parentSkin")(o=function(n){function t(){return n.apply(this,arguments)||this}return e(t,n),t}(i))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/Plane.ts",["cc"],(function(t){var n,o;return{setters:[function(t){n=t.cclegacy,o=t.Vec3}],execute:function(){n._RF.push({},"64a8fMSe85Bn7aYYIv3XX3h","Plane",void 0);var r=new o,i=new o;t("Plane",function(){function t(t,n){void 0===t&&(t=new o(1,0,0)),void 0===n&&(n=0),this.normal=t,this.constant=n,this.normal=t,this.constant=n}var n=t.prototype;return n.setFromNormalAndCoplanarPoint=function(t,n){return this.normal.set(t),this.constant=-n.dot(this.normal),this},n.setFromCoplanarPoints=function(t,n,a){var s=o.subtract(r,a,n).cross(o.subtract(i,t,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this},n.projectPoint=function(t,n){return n.set(this.normal.multiplyScalar(-this.distanceToPoint(t)).add(t))},n.distanceToPoint=function(t){return this.normal.dot(t)+this.constant},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,o=t.instantiate,n=t.NodePool}],execute:function(){e._RF.push({},"c5907eNs8FKs716t2Unmn66","PoolManager",void 0),t("PoolManager",function(){function t(){this._dictPool={},this._dictPrefab={}}var e=t.prototype;return e.copyNode=function(t,i){var e=t.name;this._dictPrefab[e]=t;var r=null;if(this._dictPool.hasOwnProperty(e)){var s=this._dictPool[e];r=s.size()>0?s.get():o(t)}else{var a=new n;this._dictPool[e]=a,r=o(t)}return i&&(r.parent=i,r.active=!0),r},e.getNode=function(t,i,e){var r,s;if("string"==typeof t){if(s=t,!(r=this._dictPrefab[t]))return console.log("Pool invalid prefab name = ",s),null}else r=t,s=t.data.name;var a=null;if(this._dictPool.hasOwnProperty(s)){var c=this._dictPool[s];a=c.size()>0?c.get():o(r)}else{var l=new n;this._dictPool[s]=l,a=o(r)}return i&&(a.parent=i,a.active=!0,e&&(a.position=e)),a},e.putNode=function(t,i){if(t){var e=t.name,o=null;this._dictPool.hasOwnProperty(e)?o=this._dictPool[e]:(o=new n,this._dictPool[e]=o),o.put(t)}},e.clearPool=function(t){this._dictPool.hasOwnProperty(t)&&this._dictPool[t].clear()},e.setPrefab=function(t,i){this._dictPrefab[t]=i},e.getPrefab=function(t){return this._dictPrefab[t]},i(t,null,[{key:"ins",get:function(){return this._ins||(this._ins=new t),this._ins}}]),t}())._ins=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/RandomMatColor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,r,n,e,a,l;return{setters:[function(o){t=o.inheritsLoose},function(o){r=o.cclegacy,n=o._decorator,e=o.MeshRenderer,a=o.Color,l=o.Component}],execute:function(){var c;r._RF.push({},"ee19eGTEOpM04RQAZpcFtmr","RandomMatColor",void 0);var i=n.ccclass;n.property,o("RandomMatColor",i("RandomMatColor")(c=function(o){function r(){return o.apply(this,arguments)||this}return t(r,o),r.prototype.onEnable=function(){this.node.getComponent(e).material.setProperty("mainColor",new a(Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())))},r}(l))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/ResizeCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,o,r,s,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,o=e.UITransform,r=e.screen,s=e.Size,a=e.Component}],execute:function(){var c;t._RF.push({},"5e58bO7x9BGX77fUaoyJmAz","ResizeCanvas",void 0);var u=i.ccclass;i.property,e("ResizeCanvas",u("ResizeCanvas")(c=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.update=function(e){this.node.getComponent(o).setContentSize(this.getSizeWindow())},i.getSizeWindow=function(){var e=0,n=0,t=r.windowSize.width/1080,i=r.windowSize.height/2347;return t>i?(n=r.windowSize.width/i,e=2347):(e=r.windowSize.height/t,n=1080),new s(n,e)},t}(a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/RotateModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,r,a,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Node,l=t.CCBoolean,u=t.Vec3,c=t.Component}],execute:function(){var M,h,p,d,g,f,v;s._RF.push({},"e4d3enxnLZHaIxASmbkQS3a","RotateModel",void 0);var y=r.ccclass,T=r.property;t("RotateModel",(M=y("RotateModel"),h=T(a),p=T(l),M((f=e((g=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"targetModel",f,n(e)),e.isMouseDown=!1,e.lastMouseX=0,e.lastMouseY=0,e.rotationSpeed=.6,i(e,"isMove",v,n(e)),e.posTarget=void 0,e}o(e,t);var s=e.prototype;return s.onLoad=function(){this.node.on(a.EventType.TOUCH_START,this.onMouseDown,this),this.node.on(a.EventType.TOUCH_MOVE,this.onMouseMove,this),this.node.on(a.EventType.TOUCH_END,this.onMouseUp,this)},s.start=function(){},s.onMouseDown=function(t){this.isMouseDown=!0,this.lastMouseX=t.getLocationX(),this.lastMouseY=t.getLocationY(),this.posTarget=this.targetModel.getPosition()},s.onMouseMove=function(t){if(this.isMouseDown&&this.targetModel){var e=t.getLocationX()-this.lastMouseX;this.lastMouseX=t.getLocationX();var o=this.targetModel.eulerAngles.clone();if(o.y+=e*this.rotationSpeed,this.targetModel.setRotationFromEuler(o),this.isMove){var i=t.getLocationY()-this.lastMouseY,n=this.posTarget.y+i/2347*2+0,s=new u(this.targetModel.position.x,n,this.targetModel.position.z);this.targetModel.setPosition(s)}}},s.onMouseUp=function(t){this.isMouseDown=!1},e}(c)).prototype,"targetModel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(g.prototype,"isMove",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=g))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/SceneTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var c,t,n,o,s;return{setters:[function(e){c=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,o=e.director,s=e.Component}],execute:function(){var a;t._RF.push({},"d773b1/HlZAzpx2ym49G3JF","SceneTest",void 0);var r=n.ccclass;e("SceneTest",r("SceneTest")(a=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.loadScene=function(e,c){switch(c){case"0":o.loadScene("Demo");break;case"1":o.loadScene("MazeTest");break;case"2":o.loadScene("NavTest");break;case"3":o.loadScene("ClampTest")}},t}(s))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/ShaderToy.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,a,c,l,s,u,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.SpriteComponent,l=e.Material,s=e.sys,u=e.view,p=e.macro,h=e.screen,f=e.Component}],execute:function(){var y,b,g,m,d,S,v;o._RF.push({},"f139eZcCV1BMJATtYpZqGbk","ShaderToy",void 0);var T=a.ccclass,M=a.property;e("ShaderToy",(y=T("ShaderToy"),b=M(c),g=M({type:l}),y((S=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"bg",S,i(t)),n(t,"mat",v,i(t)),t}r(t,e);var o=t.prototype;return o.onEnable=function(){this.bg.customMaterial=this.mat[Math.floor(this.mat.length*Math.random())],this.changeScreeen()},o.changeScreeen=function(){s.isBrowser&&s.isMobile&&(u.setOrientation(p.ORIENTATION_LANDSCAPE),h.requestFullScreen())},t}(f)).prototype,"bg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(d.prototype,"mat",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=d))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkinController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./parentSkin.ts","./EnumManager.ts","./Utils.ts","./HairController.ts"],(function(e){var t,n,i,r,o,a,s,u,l,p,c,h,f,b,m,d,k,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Enum,u=e.CCBoolean,l=e.Texture2D,p=e.SpriteFrame,c=e.SkinnedMeshRenderer,h=e.animation,f=e.Component},function(e){b=e.parentSkin},function(e){m=e.enumUsed,d=e.enumTypeSkin},function(e){k=e.Utils},function(e){g=e.HairController}],execute:function(){var y,C,S,M,D,R,A,v,w,E,H,z,F,q,O;o._RF.push({},"e8bdfoAp2dPpp6lnUa0jA+Z","SkinController",void 0);var T=a.ccclass,I=a.property;e("SkinController",(y=T("SkinController"),C=I({type:s(m)}),S=I(u),M=I({type:l,visible:function(){return this.isAlphaMask}}),D=I({type:s(d)}),R=I(p),A=I({type:u,visible:function(){return this.typeSkin==d.shoes}}),y((E=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"used",E,r(t)),i(t,"isAlphaMask",H,r(t)),i(t,"alphaMask",z,r(t)),i(t,"typeSkin",F,r(t)),i(t,"icon",q,r(t)),i(t,"isShoesHigh",O,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){switch(this.typeSkin){case d.top:case d.bot:case d.shoes:var e=k.findParentWithComponent(this.node,b).node;this.node.getComponentsInChildren(c).forEach((function(t){return t.skinningRoot=e}));var t=k.findParentWithComponent(this.node,h.AnimationController).graph,n=this.node.getComponent(h.AnimationController);n||this.node.addComponent(h.AnimationController),(n=this.node.getComponent(h.AnimationController)).graph=t;break;case d.hair:this.node.getComponent(g)||this.node.addComponent(g)}},o.getType=function(){return this.typeSkin},o.getIcon=function(){return this.icon},o.getId=function(){return this.node.name},o.getNameUrlFolder=function(){var e="";switch(this.typeSkin){case d.Back:e="3DResource/Equipment/Back/prefab/";break;case d.Ear:e="3DResource/Equipment/Ear/prefab/";break;case d.Glasses:e="3DResource/Equipment/Glasses/prefab/";break;case d.Headwear:e="3DResource/Equipment/Headwear/prefab/";break;case d.Mask:e="3DResource/Equipment/Mask/prefab/";break;case d.Tail:e="3DResource/Equipment/Tail/prefab/";break;case d.bot:e=this.used==m.female?"3DResource/Outfit/Female/prefab/bot/":"3DResource/Outfit/Male/prefab/bot/";break;case d.hair:e=this.used==m.female?"3DResource/01CMAnime/FHair/prefab/":"3DResource/01CMAnime/MHair/prefab/";break;case d.shoes:e=this.used==m.female?"3DResource/Outfit/Female/prefab/shoes/":"3DResource/Outfit/Male/prefab/shoes/";break;case d.top:e=this.used==m.female?"3DResource/Outfit/Female/prefab/top/":"3DResource/Outfit/Male/prefab/top/"}return""+e+this.node.name},o.getAlphaMask=function(){return!!this.isAlphaMask&&this.alphaMask},o.getIsHigh=function(){return this.typeSkin==d.shoes&&!!this.isShoesHigh},t}(f)).prototype,"used",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.share}}),H=t(w.prototype,"isAlphaMask",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=t(w.prototype,"alphaMask",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(w.prototype,"typeSkin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.top}}),q=t(w.prototype,"icon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(w.prototype,"isShoesHigh",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=w))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpringHair.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,r,e,n,a,o,l,s,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,r=i.inheritsLoose,e=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,l=i.Node,s=i.Vec3,c=i.Component}],execute:function(){var u,p,h,f,y;a._RF.push({},"279aafYiehNgq6rtHxlbT/m","SpringHair",void 0);var g=o.ccclass,d=o.property;i("SpringHair",(u=g("SpringHair"),p=d(l),u((y=t((f=function(i){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=i.call.apply(i,[this].concat(a))||this,e(t,"hairJoint",y,n(t)),t.velocity=new s,t.stiffness=3,t.damping=.05,t}return r(t,i),t.prototype.update=function(i){if(this.hairJoint){var t=new s(0,0,4*Math.sin(.005*Date.now())),r=s.subtract(new s,t,this.hairJoint.eulerAngles);r.multiplyScalar(this.stiffness),this.velocity.add(r.multiplyScalar(i)),this.velocity.multiplyScalar(1-this.damping);var e=this.hairJoint.eulerAngles.clone();e.add(this.velocity),this.hairJoint.setRotationFromEuler(e)}},t}(c)).prototype,"hairJoint",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,c,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Prefab,s=e.Component}],execute:function(){var l,u,p,f,y;o._RF.push({},"28d27GGEmRFPbkyt6kN7EBY","Test",void 0);var h=c.ccclass,b=c.property;e("Test",(l=h("Test"),u=b(a),l((y=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"pre",y,i(t)),t}return r(t,e),t.prototype.start=function(){},t}(s)).prototype,"pre",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/TestAddAlphaMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,i,n,s,l,o,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.Texture2D,o=e.SkinnedMeshRenderer,u=e.Component}],execute:function(){var c,p,h,f,k,d,m,y,T;n._RF.push({},"9b12fmNvY9IyqMelckuLjc6","TestAddAlphaMask",void 0);var b=s.ccclass,x=s.property;e("TestAddAlphaMask",(c=b("TestAddAlphaMask"),p=x(l),h=x(l),f=x(o),c((m=t((d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,a(t,"listMaskTexture",m,i(t)),a(t,"textureDefault",y,i(t)),a(t,"body",T,i(t)),t.listNameMask=["maskTexture1","maskTexture2","maskTexture3","maskTexture4","maskTexture5","maskTexture6"],t}r(t,e);var n=t.prototype;return n.start=function(){this.setAlphaMask()},n.setAlphaMask=function(){var e=this,t=this.body;t&&t.material?(t.material.setProperty("alphaThreshold",.5),this.listNameMask.forEach((function(r,a){var i=e.listMaskTexture[a];i||(i=e.textureDefault),t.material.setProperty(r,i)}))):console.log("không có")},t}(u)).prototype,"listMaskTexture",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(d.prototype,"textureDefault",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(d.prototype,"body",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=d))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/Triangle.ts",["cc"],(function(t){var r,e;return{setters:[function(t){r=t.cclegacy,e=t.Vec3}],execute:function(){r._RF.push({},"35cdcVeRH9OiZ+tY3WOZsIf","Triangle",void 0);var i=new e,n=new e,a=new e,s=new e,c=new e,u=new e;t("Triangle",function(){function t(t,r,i){void 0===t&&(t=new e),void 0===r&&(r=new e),void 0===i&&(i=new e),this.a=t,this.b=r,this.c=i,this.c=i,this.b=r,this.a=t}var r=t.prototype;return r.set=function(t,r,e){return this.a.set(t),this.b.set(r),this.c.set(e),this},r.closestPointToPoint=function(t,r){var o,l,d=this.a,v=this.b,h=this.c;e.subtract(i,v,d),e.subtract(n,h,d),e.subtract(a,t,d);var f=i.dot(a),b=n.dot(a);if(f<=0&&b<=0)return r.set(d.clone());e.subtract(s,t,v);var p=i.dot(s),w=n.dot(s);if(p>=0&&w<=p)return r.set(v.clone());var y=f*w-p*b;if(y<=0&&f>=0&&p<=0)return o=f/(f-p),r.set(d.clone().add(i.multiplyScalar(o)));e.subtract(c,t,h);var m=i.dot(c),S=n.dot(c);if(S>=0&&m<=S)return r.set(h);var g=m*b-f*S;if(g<=0&&b>=0&&S<=0)return l=b/(b-S),r.set(d.add(n.multiplyScalar(l)));var T=p*S-m*w;if(T<=0&&w-p>=0&&m-S>=0)return e.subtract(u,h,v),l=(w-p)/(w-p+(m-S)),r.set(v.add(u.multiplyScalar(l)));var R=1/(T+g+y);return o=g*R,l=y*R,r.set(d.add(i.multiplyScalar(o)).add(n.multiplyScalar(l)))},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPick.Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,o,n,e;return{setters:[function(t){r=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,e=t.Component}],execute:function(){var c;o._RF.push({},"ff99dGYJJlM7ZbHJ6SPkre9","UIPick.Controller",void 0);var i=n.ccclass;n.property,t("UIPick_Controller",i("UIPick_Controller")(c=function(t){function o(){return t.apply(this,arguments)||this}r(o,t);var n=o.prototype;return n.start=function(){},n.update=function(t){},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.LimitSize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,r,a,o,h,s,l,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,h=i.Size,s=i.view,l=i.UITransform,c=i.Component}],execute:function(){var u,m,p,f,g,z;a._RF.push({},"5588dQ3WctCD5bzVFZyUPdU","Utils.LimitSize",void 0);var d=o.ccclass,b=o.property;i("Utils_LimitSize",d("Utils_LimitSize")((p=t((m=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=i.call.apply(i,[this].concat(a))||this,n(t,"minWidth",p,r(t)),n(t,"maxWidth",f,r(t)),n(t,"minHeight",g,r(t)),n(t,"maxHeight",z,r(t)),t.lastSize=new h,t}e(t,i);var a=t.prototype;return a.lateUpdate=function(i){this.onCanvasResize()},a.onCanvasResize=function(){var i=s.getVisibleSize();if(i.width!=this.lastSize.width||i.height!=this.lastSize.height){this.lastSize=i;var t=this.node.getComponent(l),e=Math.min(this.maxWidth,Math.max(this.minWidth,i.width)),n=Math.min(this.maxHeight,Math.max(this.minHeight,i.height));e===i.width&&n===i.height||t.setContentSize(new h(e,n))}},t}(c)).prototype,"minWidth",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),f=t(m.prototype,"maxWidth",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),g=t(m.prototype,"minHeight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),z=t(m.prototype,"maxHeight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),u=m))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.NumberArray.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,i,a,l;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.initializerDefineProperty},function(r){i=r.cclegacy,a=r._decorator,l=r.CCFloat}],execute:function(){var n,c,o,s,u;i._RF.push({},"7cc7abOK3VGJbvUEKlIizCW","Utils.NumberArray",void 0);var y=a.ccclass,p=a.property;r("Utils_NumberArray",(n=y("Utils_NumberArray"),c=p({type:[l],range:[0,1,.1],slide:!0}),n((u=e((s=function(r){t(this,"array",u,this),this.array=new Array(r).fill(0)}).prototype,"array",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.Scrollview.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,c,l,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.ScrollView,r=t.UITransform,c=t.rect,l=t.UIOpacity,s=t.Component}],execute:function(){var p;n._RF.push({},"7276eO0dw5MapnGvE9WI3VB","Utils.Scrollview",void 0);var a=o.ccclass;o.property,t("Utils_Scrollview",a("Utils_Scrollview")(p=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){var t=this;this.schedule((function(){t.updateScrldb(t.getComponent(i))}),.1)},o.updateScrldb=function(t){for(var e=t.node.getChildByName("view"),n=t.content,o=e.getComponent(r).contentSize.height,i=e.getComponent(r).contentSize.width,s=-n.position.y,p=c(-i/2,s-o/2,i,o),a=0;a<n.children.length;a++){var u=n.children[a];p.intersects(u.getComponent(r).getBoundingBox())?u.getComponent(l).opacity=255:u.getComponent(l).opacity=0}},n}(s))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrobe.Controller.ts"],(function(n){var t,r,e,a,o,u,i,c,s,f,l,p,d,h,v;return{setters:[function(n){t=n.createForOfIteratorHelperLoose,r=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){a=n.cclegacy,o=n._decorator,u=n.UITransform,i=n.Size,c=n.resources,s=n.SpriteFrame,f=n.Prefab,l=n.Material,p=n.AudioClip,d=n.Vec3,h=n.instantiate},function(n){v=n.Wardrobe_Controller}],execute:function(){var g;a._RF.push({},"1fc7cD/mlxMs45bvMrtxPKS","Utils",void 0);var m=o.ccclass;o.property,n("Utils",m("Utils")(g=function(){function n(){}return n.findChildWithLabel=function(n,r){for(var e,a=t(n.children);!(e=a()).done;){var o=e.value;if(o.getComponent(r))return o}return null},n.findParentWithComponent=function(n,t){for(var r=n.getParent();r;){var e=r.getComponent(t);if(e)return e;r=r.getParent()}return null},n.random=function(n,t){return Math.floor(Math.random()*(t-n+1))+n},n.changeArray=function(n){for(var t=[].concat(n),r=t.length-1;r>0;r--){var e=Math.floor(Math.random()*(r+1)),a=[t[e],t[r]];t[r]=a[0],t[e]=a[1]}return t},n.getResSpriteFrame=function(){var n=r(e().mark((function n(t){var r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(r=v.Instance)||r.setLoading(!0),n.abrupt("return",new Promise((function(n,r){c.load(t+"/spriteFrame",s,(function(t,e){var a;null==(a=v.Instance)||a.setLoading(!1),t?r(t):n(e)}))})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),n.getResPrefab=function(){var n=r(e().mark((function n(t){var r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(r=v.Instance)||r.setLoading(!0),n.abrupt("return",new Promise((function(n,r){c.load(""+t,f,(function(t,e){var a;null==(a=v.Instance)||a.setLoading(!1),t?r(t):n(e)}))})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),n.getResMat=function(){var n=r(e().mark((function n(t){var r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(r=v.Instance)||r.setLoading(!0),n.abrupt("return",new Promise((function(n,r){c.load(""+t,l,(function(t,e){var a;null==(a=v.Instance)||a.setLoading(!1),t?r(t):n(e)}))})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),n.urlParam=function(n){var t=new RegExp("[?&]"+n+"=([^&#]*)").exec(window.location.search);return null!==t&&(t[1]||0)},n.formatTime=function(n){var t=Math.floor(n/60),r=Math.floor(n%60),e="";return e+=t<=0?"0":t<10?"0"+t:t,e+=":",e+=r<=0?"0":r<10?"0"+r:r},n.delay=function(n){return new Promise((function(t){return setTimeout(t,n)}))},n.getResAudioClip=function(){var n=r(e().mark((function n(t){var r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(r=v.Instance)||r.setLoading(!0),n.abrupt("return",new Promise((function(n,r){c.load(t,p,(function(t,e){var a;null==(a=v.Instance)||a.setLoading(!1),t?r(t):n(e)}))})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),n.getRandomElements=function(n,t,r){if(n.length<t)return console.warn("Danh sách không đủ phần tử!"),[];var e=[].concat(n);if(r)for(var a=e.length-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),u=[e[o],e[a]];e[a]=u[0],e[o]=u[1]}return e.slice(0,t)},n.addNode=function(){var n=r(e().mark((function n(t,r){var a,o,u;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(a=v.Instance)||a.setLoading(!0),n.next=3,h(r);case 3:return u=n.sent,null==(o=v.Instance)||o.setLoading(!1),u.parent=t,u.setPosition(d.ZERO),n.abrupt("return",u);case 8:case"end":return n.stop()}}),n)})));return function(t,r){return n.apply(this,arguments)}}(),n.getDataAsset=function(){var n=r(e().mark((function n(t,r){var a;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(a=v.Instance)||a.setLoading(!0),n.abrupt("return",new Promise((function(n,e){c.loadDir(t,r,(function(t,r){var a;null==(a=v.Instance)||a.setLoading(!1),t?e(t):n(r)}))})));case 2:case"end":return n.stop()}}),n)})));return function(t,r){return n.apply(this,arguments)}}(),n.getEnumLength=function(n){return Object.keys(n).filter((function(n){return isNaN(Number(n))})).length},n.getEnumValueByIndex=function(n,t){return n[Object.keys(n).filter((function(n){return isNaN(Number(n))}))[t]]},n.resizeSprite=function(n,t,r){n.spriteFrame=t;var e=n.getComponent(u).contentSize,a=new i;e.width>e.height?(a.x=r,a.y=e.height*r/e.width):(a.y=r,a.x=e.width*r/e.height),n.node.getComponent(u).setContentSize(a)},n}())||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/UtilsColor.ts",["cc"],(function(r){var t,a,e;return{setters:[function(r){t=r.cclegacy,a=r._decorator,e=r.Color}],execute:function(){var o;t._RF.push({},"56612M01vNA5Z1+27tSefiv","UtilsColor",void 0);var n=a.ccclass;a.property,r("UtilsColor",n("UtilsColor")(o=function(){function r(){}return r.hslToRgb=function(r,t,a){var e,o,n,s=Math.floor(6*r),c=6*r-s,i=a*(1-t),u=a*(1-c*t),l=a*(1-(1-c)*t);switch(s%6){case 0:e=a,o=l,n=i;break;case 1:e=u,o=a,n=i;break;case 2:e=i,o=a,n=l;break;case 3:e=i,o=u,n=a;break;case 4:e=l,o=i,n=a;break;case 5:e=a,o=i,n=u}return{r:Math.floor(255*e),g:Math.floor(255*o),b:Math.floor(255*n)}},r.hexToColor=function(r){6===(r=r.replace(/^#/,"")).length&&(r+="FF");var t=parseInt(r.substring(0,2),16),a=parseInt(r.substring(2,4),16),o=parseInt(r.substring(4,6),16),n=parseInt(r.substring(6,8),16);return new e(t,a,o,n)},r.colorToHex=function(r){return("#"+r.r.toString(16).padStart(2,"0")+r.g.toString(16).padStart(2,"0")+r.b.toString(16).padStart(2,"0")).toUpperCase()},r.hsvToRgb=function(r,t,a){var e,o,n,s=Math.floor(6*r),c=6*r-s,i=a*(1-t),u=a*(1-c*t),l=a*(1-(1-c)*t);switch(s%6){case 0:e=a,o=l,n=i;break;case 1:e=u,o=a,n=i;break;case 2:e=i,o=a,n=l;break;case 3:e=i,o=u,n=a;break;case 4:e=l,o=i,n=a;break;case 5:e=a,o=i,n=u}return{r:Math.round(255*e),g:Math.round(255*o),b:Math.round(255*n)}},r.rgbToHsv=function(r,t,a){r/=255,t/=255,a/=255;var e=Math.max(r,t,a),o=e-Math.min(r,t,a),n=0;return 0!==o&&(n=e===r?(t-a)/o+(t<a?6:0):e===t?(a-r)/o+2:(r-t)/o+4,n/=6),{h:n,s:0===e?0:o/e,v:e}},r.rgbToHex=function(r,t,a){return"#"+[r,t,a].map((function(r){return r.toString(16).padStart(2,"0")})).join("")},r}())||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrobe.Background.Item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,n,o,i,a,c,u;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,n=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){i=r.cclegacy,a=r._decorator,c=r.Sprite,u=r.Component}],execute:function(){var s,p,l,d,f;i._RF.push({},"d4031Khuh5J2pqrrguqXugb","Wardrobe.Background.Item",void 0);var g=a.ccclass,h=a.property;r("Wardrobe_Background_Item",(s=g("Wardrobe_Background_Item"),p=h(c),s((f=e((d=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=r.call.apply(r,[this].concat(i))||this,n(e,"spr",f,o(e)),e}return t(e,r),e.prototype.setData=function(r){this.spr.spriteFrame=r},e}(u)).prototype,"spr",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=d))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrobe.Background.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrode.BGController.ts","./Wardrobe.Background.Item.ts","./Character.Animation.ts","./FQA.Controller.ts","./Utils.ts"],(function(n){var t,e,r,i,o,a,c,s,u,l,f,p,d,h,g,m,v,k;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized,o=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){c=n.cclegacy,s=n._decorator,u=n.Node,l=n.Vec3,f=n.tween,p=n.Component,d=n.instantiate},function(n){h=n.Wardrode_BGController},function(n){g=n.Wardrobe_Background_Item},function(n){m=n.Character_Animation},function(n){v=n.FQA_Controller},function(n){k=n.Utils}],execute:function(){var b,B,y,C,w,_,x;c._RF.push({},"fc8f01RlBtGrLtE4A41Ul+x","Wardrobe.Background",void 0);var I=s.ccclass,W=s.property;n("Wardrobe_Background",(b=I("Wardrobe_Background"),B=W(u),y=W(u),b((_=t((w=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,r(t,"animation",_,i(t)),r(t,"content",x,i(t)),t}e(t,n);var c=t.prototype;return c.onEnable=function(){this.animation.setPosition(new l(0,-1550)),f(this.animation).to(.3,{position:new l(0,-515.6825)},{easing:"sineIn"}).start(),this.Create()},c.Create=function(){var n=o(a().mark((function n(){var t,e,r,i=this;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=h.Instance.listBG,this.content.children.forEach((function(n){return n.active=!1})),e=a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t[r],n.next=3,new Promise(o(a().mark((function n(t,r){var o,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.getResSpriteFrame(e.icon);case 2:o=n.sent,c=i.content.children.find((function(n){return 0==n.active})),console.log(c),c||((c=d(i.content.children[0])).parent=i.content),c.setPosition(l.ZERO),c.getComponent(g).setData(o),c.getChildByName("pick").active=!1,c.off("click"),c.on("click",(function(){h.Instance.setTexture(e.id),i.content.children.forEach((function(n){return n.getChildByName("pick").active=!1})),c.getChildByName("pick").active=!0})),c.active=!0,t();case 13:case"end":return n.stop()}}),n)}))));case 3:case"end":return n.stop()}}),n)})),r=0;case 4:if(!(r<t.length)){n.next=9;break}return n.delegateYield(e(),"t0",6);case 6:r++,n.next=4;break;case 9:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.eventDisable=function(n){var t=this;f(this.animation).to(.3,{position:new l(0,-1550)},{easing:"sineIn"}).call((function(){t.node.active=!1,n&&n()})).start()},c.OnClick_BackAll=function(){v.Instance.OnClick_BackToMain(),m.Instance.setDefault()},t}(p)).prototype,"animation",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(w.prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=w))||C));c._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrobe.Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrobe.MainCamera.Controller.ts","./EnumManager.ts","./GameManager.ts","./APIManager.ts","./Wardrobe.Noti.ts"],(function(e){var t,n,i,a,o,r,l,c,s,u,h,d,f,g,b,m,C,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.ToggleContainer,c=e.Node,s=e.EventHandler,u=e.Toggle,h=e.director,d=e.Component},function(e){f=e.Wardrobe_MainCamera_Controller},function(e){g=e.enumSex,b=e.enumMode},function(e){m=e.GameManager},function(e){C=e.APIManager},function(e){v=e.Wardrobe_Noti}],execute:function(){var p,y,k,I,_,A,L,w,P,z,F,B,M,S,U,W,x,E,N,O;o._RF.push({},"137f1Q13PBCBqpUHzZNQV94","Wardrobe.Controller",void 0);var D=r.ccclass,H=r.property;e("Wardrobe_Controller",(p=D("Wardrobe_Controller"),y=H(f),k=H(l),I=H(c),_=H(c),A=H(c),L=H(c),w=H(c),P=H(c),p(((O=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"camera",B,a(t)),i(t,"toggleContainer",M,a(t)),i(t,"nodeContent",S,a(t)),i(t,"UI",U,a(t)),i(t,"btnCloseAll",W,a(t)),i(t,"btnBackPick",x,a(t)),i(t,"nodeLoading",E,a(t)),i(t,"btnFill",N,a(t)),t.countLoading=0,t}n(t,e);var o=t.prototype;return o.setLoading=function(e){this.countLoading+=e?1:-1,this.nodeLoading&&(!e&&this.countLoading<=0?this.nodeLoading.active=!1:this.nodeLoading.active=!0)},o.onLoad=function(){t.Instance=this},o.start=function(){var e=new s;e.target=this.node,e.component="Wardrobe_Controller",e.handler="callback",e.customEventData="",this.toggleContainer&&this.toggleContainer.checkEvents.push(e),this.eventStart()},o.OnClick_Save=function(){if(m.usedAPI){var e={gender:m.sex==g.female?0:1,female:m.dataPlayerF,male:m.dataPlayerM};C.fqaSetProfile(e)}else v.Instance.ShowNoti(!0,"Lưu thành công.")},o.eventStart=function(){var e=this.toggleContainer.node.children.find((function(e){return e.getComponent(u).isChecked}));e&&(this.setCamera(e.name),this.setActive(e.name)),this.UI.active=!0,this.btnCloseAll.active=this.UI.active,this.btnBackPick.active=!this.btnCloseAll.active,this.setLoading(!1),this.countLoading=0,this.btnFill.active=!1},o.OnClick_ShowBody=function(){if(this.UI.active=!1,this.btnCloseAll.active=this.UI.active,this.btnBackPick.active=!this.btnCloseAll.active,this.UI.active?this.camera.setZoomIn():this.camera.setZoomOut(),this.UI.active){this.toggleContainer.node.children[0].getComponent(u).isChecked=!0;var e=this.toggleContainer.node.children.find((function(e){return e.getComponent(u).isChecked}));e&&(this.setCamera(e.name),this.setActive(e.name))}},o.OnClick_FillColor=function(){this.btnFill.active=!0,this.setCamera(),this.setActive("Color")},o.setCamera=function(e){switch(e){case b.Eye:case b.Happy:this.camera.setForcusFace();break;case b.Body:this.camera.setZoomOut();break;default:this.camera.setNormal()}},o.setActive=function(e){this.nodeContent.children.forEach((function(t){t.active=t.name==e}))},o.callback=function(e,t){switch(e.node._name){case"Body":var n=m.sex==g.female?g.male:g.female;m.sex=n,h.emit("changeSex",m.ChangeSex(n))}this.btnFill.active=!1,this.setCamera(e.node._name),this.setActive(e.node._name)},t}(d)).Instance=void 0,B=t((F=O).prototype,"camera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(F.prototype,"toggleContainer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(F.prototype,"nodeContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(F.prototype,"UI",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(F.prototype,"btnCloseAll",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(F.prototype,"btnBackPick",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(F.prototype,"nodeLoading",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(F.prototype,"btnFill",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=F))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrobe.MainCamera.Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumManager.ts","./GameManager.ts"],(function(e){var t,n,a,r,o,i,s,u,c,l,m,h,p,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Node,u=e.Camera,c=e.tween,l=e.Vec3,m=e.Quat,h=e.Component},function(e){p=e.enumStatusMainCamera,f=e.enumSex},function(e){y=e.GameManager}],execute:function(){var d,C,b,g,P,z,w,I;o._RF.push({},"046bdqcPm9Lt6+RLK/uM2DP","Wardrobe.MainCamera.Controller",void 0);var M=i.ccclass,v=i.property;e("Wardrobe_MainCamera_Controller",(d=M("Wardrobe_MainCamera_Controller"),C=v(s),b=v(u),d(((I=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,a(t,"Player",z,r(t)),a(t,"camera",w,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){t.Instance=this},o.setNormal=function(){this.resetPlayer(),this.setStatusCamera(p.normal)},o.setForcusFace=function(){this.resetPlayer(),this.setStatusCamera(p.forcusFace)},o.setZoomIn=function(){this.resetPlayer(),this.setStatusCamera(p.zoomIn)},o.setZoomOut=function(){this.resetPlayer(),this.setStatusCamera(p.zoomOut)},o.resetPlayer=function(e){c(this.Player).to(.3,{position:l.ZERO},{easing:"sineIn"}).start(),c(this.Player).to(.3,{rotation:new m(0,0,0)},{easing:"sineIn"}).start()},o.setCameraBySex=function(){var e=y.sex==f.female?.025:-.015,t=new l(e,this.node.position.y,this.node.position.z);this.node.setPosition(t)},o.setStatusCamera=function(e){var t=new l,n=0,a=y.sex==f.female?.025:-.015;switch(e){case p.forcusFace:t=new l(a,.9,this.node.position.z),n=.25;break;case p.normal:case p.zoomIn:t=new l(0,.1,this.node.position.z),n=1.5;break;case p.zoomOut:t=new l(0,.7,this.node.position.z),n=1}c(this.camera).to(.6,{orthoHeight:n},{easing:"sineInOut"}).start(),c(this.node).to(.6,{position:t},{easing:"sineInOut"}).start()},t}(h)).Instance=null,z=t((P=I).prototype,"Player",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(P.prototype,"camera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=P))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrobe.Noti.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,o,r,a,c,l,s,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Label,l=t.Node,s=t.Vec3,u=t.tween,p=t.Component}],execute:function(){var f,b,h,d,y,v,w,g,m,z;r._RF.push({},"4f659JzTyBPeZmq3nt4dDs4","Wardrobe.Noti",void 0);var N=a.ccclass,_=a.property;t("Wardrobe_Noti",(f=N("Wardrobe_Noti"),b=_(c),h=_(l),d=_(l),f(((z=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(i,"lb",w,o(i)),e(i,"noti",g,o(i)),e(i,"icons",m,o(i)),i}n(i,t);var r=i.prototype;return r.onLoad=function(){i.Instance=this},r.start=function(){},r.ShowNoti=function(t,i){this.icons.children[0].active=t,this.icons.children[1].active=!t,this.lb.string=i,this.noti.setPosition(new s(0,-220)),u(this.noti).to(.5,{position:new s(0,0)}).to(.5,{position:new s(0,0)}).to(.5,{position:new s(0,-220)}).union().call((function(){})).start()},i}(p)).Instance=void 0,w=i((v=z).prototype,"lb",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(v.prototype,"noti",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(v.prototype,"icons",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrobe.UIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrobe.MainCamera.Controller.ts","./Wardrobe.Controller.ts"],(function(e){var n,t,i,r,o,a,c,l,u,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.Component},function(e){u=e.Wardrobe_MainCamera_Controller},function(e){s=e.Wardrobe_Controller}],execute:function(){var d,h,b,p,f,v,m,I,M,U,C;o._RF.push({},"2bb8alLTj9GaZqz3Ybvh4A6","Wardrobe.UIController",void 0);var k=a.ccclass,y=a.property;e("Wardrobe_UIController",(d=k("Wardrobe_UIController"),h=y(c),b=y(c),p=y(c),f=y(u),d((I=n((m=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"nodeUIMain",I,r(n)),i(n,"nodeUIPick",M,r(n)),i(n,"nodeMain",U,r(n)),i(n,"camera",C,r(n)),n}t(n,e);var o=n.prototype;return o.start=function(){this.nodeMain.active=!0,this.nodeUIMain.active=!1,this.nodeUIPick.active=!1,this.camera.setZoomOut()},o.OnClick_BackToMain=function(){this.nodeUIPick.active=!1,this.nodeMain.active=!1,this.nodeUIMain.active=!0,this.camera.setZoomOut()},o.OnClick_ShowPick=function(){this.nodeUIMain.active=!1,this.nodeUIPick.active=!0,this.nodeMain.active=!1,s.Instance.eventStart(),this.camera.setZoomOut()},o.OnClick_BackToSceneMain=function(){this.nodeUIMain.active=!1,this.nodeUIPick.active=!1,this.nodeMain.active=!0,this.camera.setZoomOut()},n}(l)).prototype,"nodeUIMain",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(m.prototype,"nodeUIPick",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(m.prototype,"nodeMain",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(m.prototype,"camera",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=m))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.BGController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Utils.ts"],(function(e){var r,t,n,a,i,o,u,c,s,l,d,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.inheritsLoose,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,s=e.Component,l=e.MeshRenderer},function(e){d=e.GameManager},function(e){p=e.Utils}],execute:function(){var f,y,h,g,b,v,m,G,B,P;u._RF.push({},"4f69fe56vdP9Li5WeclQJR/","Wardrode.BGController",void 0);var k=c.ccclass,M=c.property,w=e("Wardrode_BG",k("Wardrode_BG")((h=r((y=function(){t(this,"icon",h,this),t(this,"id",g,this)}).prototype,"icon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=r(y.prototype,"id",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=y))||f);e("Wardrode_BGController",(b=k("Wardrode_BGController"),v=M(w),b(((P=function(e){function r(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,t(r,"listBG",B,a(r)),r}n(r,e);var u=r.prototype;return u.onLoad=function(){r.Instance=this},u.start=function(){var e=d.dataPlayerM.background.id;this.setTexture(e)},u.setTexture=function(){var e=i(o().mark((function e(r){var t,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.listBG.find((function(e){return e.id==r})),n=this.node.getComponent(l).materials[0],e.next=4,p.getResSpriteFrame(t.icon);case 4:a=e.sent,n.setProperty("mainTexture",a.texture),this.setDataBG(r);case 7:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),u.setDataBG=function(){var e=i(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.dataPlayerM.background?d.dataPlayerM.background.id=r:d.dataPlayerM.background={id:r,type:null,value:null},d.dataPlayerM.background?d.dataPlayerF.background.id=r:d.dataPlayerF.background={id:r,type:null,value:null};case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),r}(s)).Instance=void 0,B=r((G=P).prototype,"listBG",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=G))||m));u._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Body.Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnumManager.ts","./GameManager.ts"],(function(e){var t,n,r,i,o,a,c,s,u,d,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Enum,s=e.director,u=e.Component},function(e){d=e.enumSex},function(e){l=e.GameManager}],execute:function(){var p,f,h,m,y;o._RF.push({},"2ef87hxQ/1IQaCBpX25hYIf","Wardrode.Body.Item",void 0);var g=a.ccclass,v=a.property;e("Wardrode_Body_Item",(p=g("Wardrode_Body_Item"),f=v({type:c(d)}),p((y=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"sex",y,i(t)),t}n(t,e);var o=t.prototype;return o.setActive=function(e){this.node.parent.children.forEach((function(t){return t.getChildByName("pick").active=!e})),this.node.getChildByName("pick").active=e},o.start=function(){var e=this;this.node.off("click"),this.node.on("click",(function(){s.emit("changeSex",l.ChangeSex(e.sex)),e.setActive(!0)}))},t}(u)).prototype,"sex",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.female}}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Body.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Wardrode.Body.Item.ts"],(function(e){var t,n,r,o,a,i,c,s,d,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,c=e.Node,s=e.Component},function(e){d=e.GameManager},function(e){u=e.Wardrode_Body_Item}],execute:function(){var l,p,f,y,g;a._RF.push({},"cf0c8VPsJRKSLgGFCgVQUn1","Wardrode.Body",void 0);var h=i.ccclass,m=i.property;e("Wardrode_Body",(l=h("Wardrode_Body"),p=m(c),l((g=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"content",g,o(t)),t}return n(t,e),t.prototype.onEnable=function(){var e=d.sex;this.content.children.forEach((function(t){var n=t.getComponent(u).sex;t.getComponent(u).setActive(e==n)}))},t}(s)).prototype,"content",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.ItemSex.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./EnumManager.ts"],(function(e){var t,a,n,r,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,r=e.Component},function(e){o=e.GameManager},function(e){i=e.enumSex}],execute:function(){var l;a._RF.push({},"711942KCMZOCKtlEd9uAUeO","Wardrode.ItemSex",void 0);var c=n.ccclass;n.property,e("Wardrode_ItemSex",c("Wardrode_ItemSex")(l=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).male=null,t.female=null,t}t(a,e);var n=a.prototype;return n.start=function(){this.male=this.node.getChildByName("M"),this.female=this.node.getChildByName("F")},n.update=function(e){this.male.active=o.sex==i.male,this.female.active=o.sex==i.female},a}(r))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Animation.Action.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,t,e,o,r,a,c,s,l,u;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Node,s=n.Vec3,l=n.tween,u=n.Component}],execute:function(){var p,d,f,h,m;r._RF.push({},"10b53XXAl9H/KdnuBwvfxOz","Wardrode.Pick.Animation.Action",void 0);var v=a.ccclass,A=a.property;n("Wardrode_Pick_Animation_Action",(p=v("Wardrode_Pick_Animation_Action"),d=A(c),p((m=i((h=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,e(i,"animation",m,o(i)),i}t(i,n);var r=i.prototype;return r.onEnable=function(){var n=this;this.scheduleOnce((function(){n.animation.setPosition(new s(0,-1550)),l(n.animation).to(.3,{position:new s(0,-515.6825)},{easing:"sineIn"}).start()}))},r.eventDisable=function(n){var i=this;l(this.animation).to(.3,{position:new s(0,-1550)},{easing:"sineIn"}).call((function(){i.node.active=!1,n&&n()})).start()},i}(u)).prototype,"animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Animation.item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,r,t,n,o,a,c,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite,s=e.Component}],execute:function(){var p,l,u,d,m;o._RF.push({},"8d649fAhxhIRa7aGFmXslVB","Wardrode.Pick.Animation.item",void 0);var f=a.ccclass,h=a.property;e("Wardrode_Pick_Animation_item",(p=f("Wardrode_Pick_Animation_item"),l=h(c),p((m=i((d=function(e){function i(){for(var i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,t(i,"spr",m,n(i)),i.index=0,i}return r(i,e),i.prototype.setData=function(e,i){this.spr.spriteFrame=i,this.index=e},i}(s)).prototype,"spr",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Animation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrode.Pick.Animation.item.ts","./Utils.ts","./Character.Animation.ts","./Wardrode.Pick.Animation.Action.ts","./Wardrobe.MainCamera.Controller.ts","./FQA.Controller.ts","./Wardrode.Pick.Capture.ts","./Character.Controller.ts"],(function(n){var t,e,i,r,o,a,c,u,l,s,f,d,m,p,h,C,b,A,v,k,_;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.initializerDefineProperty,i=n.inheritsLoose,r=n.assertThisInitialized,o=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){c=n.cclegacy,u=n._decorator,l=n.CCInteger,s=n.SpriteFrame,f=n.CCBoolean,d=n.Node,m=n.Component},function(n){p=n.Wardrode_Pick_Animation_item},function(n){h=n.Utils},function(n){C=n.Character_Animation},function(n){b=n.Wardrode_Pick_Animation_Action},function(n){A=n.Wardrobe_MainCamera_Controller},function(n){v=n.FQA_Controller},function(n){k=n.Wardrode_Pick_Capture},function(n){_=n.Character_Controller}],execute:function(){var g,y,I,w,P,W,x,z,D,B,F,O,M,E,N,R,Z,L,S,Q,T,H,U;c._RF.push({},"846e3fcHrJEOZLq2k2l67CQ","Wardrode.Pick.Animation",void 0);var j=u.ccclass,q=u.property,G=n("AnimationPose",(g=j("AnimationPose"),y=q(l),I=q(s),w=q(f),g((x=t((W=function(){e(this,"index",x,this),e(this,"icon",z,this),e(this,"active",D,this)}).prototype,"index",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(W.prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(W.prototype,"active",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=W))||P));n("Wardrode_Pick_Animation",(B=j("Wardrode_Pick_Animation"),F=q(G),O=q(G),M=q(d),E=q(d),N=q(d),B(((U=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,e(t,"listAnimF",L,r(t)),e(t,"listAnimM",S,r(t)),e(t,"nodeContent",Q,r(t)),e(t,"nodeAnim",T,r(t)),e(t,"btnChup",H,r(t)),t}i(t,n);var c=t.prototype;return c.onLoad=function(){t.Instance=this},c.onEnable=function(){this.loadData(),this.nodeAnim.active=!1,this.btnChup.active=!0,A.Instance.setZoomOut()},c.loadData=function(){var n=o(a().mark((function n(){var t=this;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.nodeContent.children.forEach((function(n){return n.active=!1})),this.listAnimF.forEach(o(a().mark((function n(e){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.active){n.next=11;break}if(i=t.nodeContent.children.find((function(n){return 0==n.active}))){n.next=6;break}return n.next=5,h.addNode(t.nodeContent,t.nodeContent.children[0]);case 5:i=n.sent;case 6:i.active=!0,i.getComponent(p).setData(e.index,e.icon),i.getChildByName("pick").active=!1,i.off("click"),i.on("click",(function(){var n=i.getComponent(p).index;C.Instance.setAnim(n),t.nodeContent.children.forEach((function(n){return n.getChildByName("pick").active=!1})),i.getChildByName("pick").active=!0,A.Instance.setZoomOut(),t.nodeAnim.getComponent(b).eventDisable((function(){}))}));case 11:case"end":return n.stop()}}),n)}))));case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.showBtnChup=function(){this.btnChup.active=!0},c.OnClick_BackAnim=function(){this.nodeAnim.active=!1,this.btnChup.active=!0,C.Instance.setDefault(),k.Instance.showImg(!1),_.Instance.ResetScale(),A.Instance.setZoomOut()},c.OnClick_Anim=function(){this.nodeAnim.active=!0,this.btnChup.active=!1,C.Instance.setDefault(),k.Instance.showImg(!1),_.Instance.ResetScale(),A.Instance.setZoomIn()},c.OnClick_BackAll=function(){v.Instance.OnClick_BackToMain(),C.Instance.setDefault()},t}(m)).Instance=null,L=t((Z=U).prototype,"listAnimF",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(Z.prototype,"listAnimM",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(Z.prototype,"nodeContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(Z.prototype,"nodeAnim",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(Z.prototype,"btnChup",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=Z))||R));c._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Capture.Save.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrode.Pick.Capture.ts","./APIManager.ts","./Wardrobe.Noti.ts"],(function(e){var t,r,n,a,o,i,c,u,s,p,l,h,d,f,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,s=e.Sprite,p=e.Camera,l=e.Component,h=e.RenderTexture,d=e.UITransform},function(e){f=e.Wardrode_Pick_Capture},function(e){g=e.APIManager},function(e){m=e.Wardrobe_Noti}],execute:function(){var b,v,w,k,P,y,S;c._RF.push({},"9a181vM1cJJ1rHiJaGS+yW8","Wardrode.Pick.Capture.Save",void 0);var _=u.ccclass,x=u.property;e("Wardrode_Pick_Capture_Save",(b=_("Wardrode_Pick_Capture_Save"),v=x(s),w=x(p),b((y=t((P=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"sprOut",y,a(t)),n(t,"cameraNode",S,a(t)),t}r(t,e);var c=t.prototype;return c.onEnable=function(){},c.OnClick_Save=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sprOut){e.next=3;break}return m.Instance.ShowNoti(!1,"Lưu hình thất bại."),e.abrupt("return");case 3:this.captureSpriteToPNG(this.sprOut);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.captureSpriteToPNG=function(){var e=o(i().mark((function e(t,r){var n,a,o,c,u,s,p,l,f,b,v,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.node.getComponent(d)){e.next=5;break}return console.warn("Sprite node không có UITransform."),e.abrupt("return");case 5:return a=Math.ceil(n.contentSize.width),o=Math.ceil(n.contentSize.height),(c=new h).reset({width:a,height:o}),this.cameraNode.targetTexture=c,e.next=12,new Promise((function(e){return setTimeout(e,0)}));case 12:if(u=c.readPixels()){e.next=16;break}return console.warn("Không thể đọc pixel từ render texture"),e.abrupt("return");case 16:if((s=document.createElement("canvas")).width=a,s.height=o,p=s.getContext("2d")){e.next=22;break}return e.abrupt("return");case 22:for(l=p.createImageData(a,o),f=0;f<o;f++)for(b=0;b<a;b++)v=4*((o-f-1)*a+b),w=4*(f*a+b),l.data[w+0]=u[v+0],l.data[w+1]=u[v+1],l.data[w+2]=u[v+2],l.data[w+3]=u[v+3];p.putImageData(l,0,0),s.toDataURL("image/png",1),s.toBlob((function(e){if(e){var t=new FormData;t.append("basePath","avatar"),t.append("file",e,"sprite.png"),fetch("https://fqa-social.dev.ftech.ai/api/v1/social/file-system/upload/image/resize",{method:"POST",headers:{Authorization:"Bearer "+g.access_token},body:t}).then((function(e){return e.json()})).then((function(e){console.log("Upload thành công:",e),m.Instance.ShowNoti(!0,"Lưu hình thành công.")})).catch((function(e){console.error("Lỗi upload:",e),m.Instance.ShowNoti(!1,"Lưu hình thất bại.")}))}}),"image/png");case 27:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),c.convertToBlob=function(){return new Blob([f.Instance.flippedPixels],{type:"image/png"})},c.blobToBase64=function(e){return new Promise((function(t,r){var n=new FileReader;n.onloadend=function(){t(n.result)},n.onerror=r,n.readAsDataURL(e)}))},c.OnClick_Back=function(){this.node.active=!1},t}(l)).prototype,"sprOut",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(P.prototype,"cameraNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=P))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Capture.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.Controller.ts","./Utils.ts"],(function(e){var t,r,n,i,a,o,u,c,s,l,p,f,h,d,m,g,v,C,w,b,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,s=e.Camera,l=e.Sprite,p=e.Node,f=e.Rect,h=e.view,d=e.RenderTexture,m=e.sp,g=e.Component,v=e.ImageAsset,C=e.Texture2D,w=e.SpriteFrame},function(e){b=e.Character_Controller},function(e){S=e.Utils}],execute:function(){var y,k,x,I,P,_,z,T,R,D,F,Z,A,L;u._RF.push({},"c4519psiIZOe5AaYlYBJ3dP","Wardrode.Pick.Capture",void 0);var O=c.ccclass,B=c.property;e("Wardrode_Pick_Capture",(y=O("Wardrode_Pick_Capture"),k=B(s),x=B(l),I=B(p),P=B(p),_=B(p),y(((L=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"captureCamera",R,i(t)),n(t,"outputSprite",D,i(t)),t.renderTexture=null,t.captureRegion=new f(0,0,500,1080),n(t,"nodeZoom",F,i(t)),n(t,"nodeSpr",Z,i(t)),t.flippedPixels=void 0,n(t,"eff",A,i(t)),t.isClick=!0,t}r(t,e);var u=t.prototype;return u.onLoad=function(){t.Instance=this,this.showImg(!1)},u.onEnable=function(){this.nodeSpr.active=!1},u.captureSquare=function(e){var t=this,r=document.createElement("canvas"),n=r.getContext("2d"),i=h.getVisibleSize(),u=Math.round(i.width),c=Math.round(i.height);r.width=1080,r.height=2347;var s=new d;s.reset({width:h.getVisibleSize().width,height:h.getVisibleSize().height}),e.targetTexture=s;var l=function(){var i=a(o().mark((function i(){var a,l,p,f,h,d,m,g,v;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(a=s.readPixels(0,0,u,c),l=4*u,p=0;p<c;p++){for(f=c-1-p,h=n.createImageData(u,1),d=f*u*4,m=0;m<l;m++)h.data[m]=a[d+m];n.putImageData(h,0,p)}return g=r.toDataURL("image/png",1),i.next=6,t.base64ToSpriteFrame(g);case 6:v=i.sent,t.outputSprite.spriteFrame=v,S.resizeSprite(t.outputSprite,v,1920),e.targetTexture=null,s.destroy(),t.showImg(!0);case 12:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();this.scheduleOnce((function(){l()}))},u.base64ToSpriteFrame=function(){var e=a(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=new Image;n.src=t,n.onload=function(){var t=new v(n),r=new C;r.image=t;var i=new w;i.texture=r,e(i)},n.onerror=function(e){r(new Error("Không thể tải ảnh từ base64"))}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u.Capture=function(){this.captureCamera&&this.outputSprite?(this.ShowEff(),this.captureSquare(this.captureCamera)):console.error("Thiếu Camera hoặc Sprite!")},u.blobToBase64=function(e){return new Promise((function(t,r){var n=new FileReader;n.onloadend=function(){t(n.result)},n.onerror=r,n.readAsDataURL(e)}))},u.flipPixelsY=function(e,t,r){for(var n=new Uint8Array(e.length),i=0;i<r;i++){var a=i*t*4,o=(r-i-1)*t*4;n.set(e.subarray(a,a+4*t),o)}return n},u.ShowEff=function(){var e=this;this.eff.active=!0,this.eff.getChildByName("anim").getComponent(m.Skeleton).setAnimation(0,"Capture",!1),this.eff.getChildByName("anim").getComponent(m.Skeleton).setCompleteListener((function(t){e.eff.active=!1}))},u.showImg=function(e){this.outputSprite.node.parent.active=e},u.OnClick_Save=function(){},u.OnClick_ZoomOut=function(){var e=this;this.isClick&&(this.isClick=!1,b.Instance.ZoomPlayer(.2,(function(){e.isClick=!0})))},u.OnClick_ZoomIn=function(){var e=this;this.isClick&&(this.isClick=!1,b.Instance.ZoomPlayer(-.2,(function(){e.isClick=!0})))},t}(g)).Instance=void 0,R=t((T=L).prototype,"captureCamera",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"outputSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"nodeZoom",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(T.prototype,"nodeSpr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(T.prototype,"eff",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=T))||z));u._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Closthes.Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.Main.ts","./Utils.ts"],(function(t){var e,i,r,n,o,c,a,s,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Sprite,s=t.Component},function(t){l=t.Character_Main},function(t){p=t.Utils}],execute:function(){var u,d,h,f,y;o._RF.push({},"cfeb0tjPaBObq1559xv373L","Wardrode.Pick.Closthes.Item",void 0);var v=c.ccclass,_=c.property;t("Wardrode_Pick_Closthes_Item",(u=v("Wardrode_Pick_Closthes_Item"),d=_(a),u((y=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(e,"spr",y,n(e)),e.type=void 0,e.id=void 0,e}i(e,t);var o=e.prototype;return o.setData=function(t,e,i){p.resizeSprite(this.spr,i,200),this.type=t,this.id=e},o.start=function(){var t=this;this.node.off("click"),this.node.on("click",(function(){l.Instance.setDataSkin(t.type,t.id),t.node.parent.children.forEach((function(t){return t.getChildByName("pick").active=!1})),t.node.getChildByName("pick").active=!0}))},e}(s)).prototype,"spr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Closthes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Wardrode.Pick.ts","./OutfitManager.ts","./Wardrode.Pick.Closthes.Item.ts","./Utils.ts"],(function(e){var t,n,r,c,a,s,i,o,u,d;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy,a=e._decorator},function(e){s=e.GameManager},function(e){i=e.Wardrode_Pick},function(e){o=e.OutfitManager},function(e){u=e.Wardrode_Pick_Closthes_Item},function(e){d=e.Utils}],execute:function(){var f;c._RF.push({},"1d486vHD+lNv5HpKqZWAtrW","Wardrode.Pick.Closthes",void 0);var l=a.ccclass;a.property,e("Wardrode_Pick_Closthes",l("Wardrode_Pick_Closthes")(f=function(e){function c(){return e.apply(this,arguments)||this}return t(c,e),c.prototype.setData=function(){var e=n(r().mark((function e(t){var c,a,i,f,l,h,p=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.node.getChildByName("Block").active=!0,this.contentItem.children.forEach((function(e){return e.active=!1})),c=s.dataGame.Clothes,a=s.sex,i=c.find((function(e){return e.type==a})),f=i.component.find((function(e){return e.type==t})),l=r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.items[h],e.next=3,new Promise(n(r().mark((function e(n,c){var a,s,i,f,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getResPrefab(t.url);case 2:if(a=e.sent,s=p.contentItem.children.find((function(e){return 0==e.active}))){e.next=9;break}return e.next=8,d.addNode(p.contentItem,p.contentItem.children[0]);case 8:s=e.sent;case 9:return s.active=!0,e.next=12,o.getIDFolderOutfit(a);case 12:return i=e.sent,e.next=15,o.getTypeOutfit(a);case 15:return f=e.sent,e.next=18,o.getIconOutfit(a);case 18:return l=e.sent,e.next=21,s.getComponent(u).setData(f,i,l);case 21:s.getChildByName("pick").active=!1,n();case 23:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})),h=0;case 8:if(!(h<f.items.length)){e.next=13;break}return e.delegateYield(l(),"t0",10);case 10:h++,e.next=8;break;case 13:this.node.getChildByName("Block").active=!1;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c}(i))||f);c._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Color.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrode.Pick.ts"],(function(r){var t,e,n,o,c,i;return{setters:[function(r){t=r.inheritsLoose,e=r.asyncToGenerator,n=r.regeneratorRuntime},function(r){o=r.cclegacy,c=r._decorator},function(r){i=r.Wardrode_Pick}],execute:function(){var a;o._RF.push({},"671399k1XVNUaSHNr+jdxLB","Wardrode.Pick.Color",void 0);var u=c.ccclass;c.property,r("Wardrode_Pick_Color",u("Wardrode_Pick_Color")(a=function(r){function o(){return r.apply(this,arguments)||this}return t(o,r),o.prototype.setData=function(){var r=e(n().mark((function r(t){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.contentItem.children.forEach((function(r){return r.active=r.name==t}));case 1:case"end":return r.stop()}}),r,this)})));return function(t){return r.apply(this,arguments)}}(),o}(i))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Eye.Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.Face.ts","./Utils.ts"],(function(e){var t,r,i,n,c,o,a,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,a=e.Sprite,s=e.Component},function(e){l=e.Character_Face},function(e){u=e.Utils}],execute:function(){var p,d,h,f,y;c._RF.push({},"37517h1AolBV4C3ubb2NVar","Wardrode.Pick.Eye.Item",void 0);var v=o.ccclass,_=o.property;e("Wardrode_Pick_Eye_Item",(p=v("Wardrode_Pick_Eye_Item"),d=_(a),p((y=t((f=function(e){function t(){for(var t,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,i(t,"spr",y,n(t)),t.type=void 0,t.url=void 0,t}r(t,e);var c=t.prototype;return c.setData=function(e,t,r){u.resizeSprite(this.spr,r,200),this.type=e,this.url=t},c.start=function(){var e=this;this.node.off("click"),this.node.on("click",(function(){l.Instance.setMat(e.url,e.type),e.node.parent.children.forEach((function(e){return e.getChildByName("pick").active=!1})),e.node.getChildByName("pick").active=!0}))},t}(s)).prototype,"spr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Eye.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrode.Pick.ts","./GameManager.ts","./Wardrode.Pick.Eye.Item.ts","./Utils.ts","./OutfitManager.ts"],(function(e){var t,n,r,a,i,c,o,s,u,l,d,f,p,h,m,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,u=e.Node,l=e.Label,d=e.instantiate,f=e.Material},function(e){p=e.Wardrode_Pick},function(e){h=e.GameManager},function(e){m=e.Wardrode_Pick_Eye_Item},function(e){y=e.Utils},function(e){v=e.OutfitManager}],execute:function(){var g,k,x,b,P;o._RF.push({},"69b18+I5q5NEZUbEu0a6UHL","Wardrode.Pick.Eye",void 0);var _=s.ccclass,C=s.property;e("Wardrode_Pick_Eye",(g=_("Wardrode_Pick_Eye"),k=C(u),g((P=t((b=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,r(t,"contentTitle",P,a(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.loadTitle(),e.prototype.start.call(this)},o.loadTitle=function(){var e=i(c().mark((function e(){var t,n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.dataGame.Face.find((function(e){return e.id==h.dataPlayer.face.id})),e.next=3,v.getDataFace(t.url);case 3:n=e.sent,this.contentTitle.children.forEach((function(e){return e.active=!1})),n.forEach(i(c().mark((function e(t,n){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isCustom){e.next=13;break}if(a=r.contentTitle.children.find((function(e){return 0==e.active}))){e.next=7;break}return e.next=5,d(r.contentTitle.children[0]);case 5:(a=e.sent).parent=r.contentTitle;case 7:a.active=!0,a.name=t.type,a.getChildByName("lbTitle").getComponent(l).string=t.name,a.getChildByName("Checkmark").getChildByName("lbName").getComponent(l).string=t.name;case 13:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.setData=function(){var e=i(c().mark((function e(t){var n,r,a,o,s,u=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.node.getChildByName("Block").active=!0,n=h.dataGame.Face.find((function(e){return e.id==h.dataPlayer.face.id})),e.next=4,v.getDataFace(n.url);case 4:if(r=e.sent,a=r.find((function(e){return e.type==t})),a.isCustom){e.next=9;break}return e.abrupt("return");case 9:return this.contentItem.children.forEach((function(e){return e.active=!1})),o=a.urlFolder,e.next=13,y.getDataAsset(o,f);case 13:return s=e.sent,e.next=16,Promise.all(s.map(i(c().mark((function e(n){var r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.contentItem.children.find((function(e){return 0==e.active}))){e.next=5;break}return e.next=4,y.addNode(u.contentItem,u.contentItem.children[0]);case 4:r=e.sent;case 5:return r.active=!0,a=o+"/"+n._name,e.next=9,y.getResSpriteFrame(a);case 9:i=e.sent,r.getComponent(m).setData(t,a,i),r.getChildByName("pick").active=!1;case 12:case"end":return e.stop()}}),e)})))));case 16:this.node.getChildByName("Block").active=!1;case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(p)).prototype,"contentTitle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=b))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Glass.Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.Main.ts","./Utils.ts"],(function(e){var t,n,i,r,a,c,o,s,l,u,p,d,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,l=e.Sprite,u=e.Node,p=e.director,d=e.Component},function(e){f=e.Character_Main},function(e){h=e.Utils}],execute:function(){var v,y,b,k,m,C,_;o._RF.push({},"13db4BeaEdPqLyI8W4JvsXU","Wardrode.Pick.Glass.Item",void 0);var g=s.ccclass,I=s.property;e("Wardrode_Pick_Glass_Item",(v=g("Wardrode_Pick_Glass_Item"),y=I(l),b=I(u),v((C=t((m=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,i(t,"spr",C,r(t)),i(t,"btnCancel",_,r(t)),t.type=void 0,t.id=void 0,t}n(t,e);var o=t.prototype;return o.setData=function(e,t,n){h.resizeSprite(this.spr,n,200),this.type=e,this.id=t},o.activeCancel=function(e){var t=this;this.btnCancel.active=!0,this.btnCancel.off("click"),this.btnCancel.on("click",(function(){e&&e(),t.btnCancel.active=!1}))},o.start=function(){var e=this;this.btnCancel.active=!1,this.node.off("click"),this.node.on("click",a(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.Instance.setDataSkin(e.type,e.id);case 2:e.node.parent.children.forEach((function(e){return e.getChildByName("pick").active=!1})),e.node.getChildByName("pick").active=!0,e.scheduleOnce((function(){p.emit("changeGlass",e.type)}));case 5:case"end":return t.stop()}}),t)}))))},t}(d)).prototype,"spr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"btnCancel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=m))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Glass.Slider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,i,t,n,l,a,o,s,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,i=r.inheritsLoose,t=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){l=r.cclegacy,a=r._decorator,o=r.Slider,s=r.Sprite,c=r.Component}],execute:function(){var u,p,d,f,b,y,g;l._RF.push({},"c524d7xb9pCP5DYyg2BnKyZ","Wardrode.Pick.Glass.Slider",void 0);var h=a.ccclass,_=a.property;r("Wardrode_Pick_Glass_Slider",(u=h("Wardrode_Pick_Glass_Slider"),p=_(o),d=_(s),u((y=e((b=function(r){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=r.call.apply(r,[this].concat(l))||this,t(e,"slider",y,n(e)),t(e,"bar",g,n(e)),e}i(e,r);var l=e.prototype;return l.Event=function(){var r=this.slider.progress;this.bar.fillRange=r},l.setView=function(r){this.slider.progress=r,this.bar.fillRange=r},e}(c)).prototype,"slider",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(b.prototype,"bar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Glass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrode.Pick.ts","./GameManager.ts","./SkinController.ts","./OutfitManager.ts","./Wardrode.Pick.Glass.Item.ts","./Character.Main.ts","./Utils.ts","./EnumManager.ts"],(function(e){var t,n,a,r,c,i,o,s,u,l,d,f,p,h;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,i=e.director},function(e){o=e.Wardrode_Pick},function(e){s=e.GameManager},function(e){u=e.SkinController},function(e){l=e.OutfitManager},function(e){d=e.Wardrode_Pick_Glass_Item},function(e){f=e.Character_Main},function(e){p=e.Utils},function(e){h=e.enumTypeSkin}],execute:function(){var m;r._RF.push({},"017b2Y1n+RMuJR3I6+LR3YS","Wardrode.Pick.Glass",void 0);var v=c.ccclass;c.property,e("Wardrode_Pick_Glass",v("Wardrode_Pick_Glass")(m=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var c=r.prototype;return c.onLoad=function(){var e=this;i.on("changeGlass",(function(t){e.actionCancel(t)}))},c.setData=function(){var e=n(a().mark((function e(t){var r,c=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.node.getChildByName("Block").active=!0,this.contentItem.children.forEach((function(e){return e.active=!1})),r=s.dataGame.Clothes.find((function(e){return e.type==s.sex})).component.find((function(e){return e.type==t})).items,e.next=5,Promise.all(r.map(n(a().mark((function e(n){var r,i,o,s,f,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getResPrefab(n.url);case 2:if(i=e.sent,(null==(r=i.data.getComponent(u))?void 0:r.getType())!=t){e.next=21;break}if(o=c.contentItem.children.find((function(e){return 0==e.active}))){e.next=9;break}return e.next=8,p.addNode(c.contentItem,c.contentItem.children[0]);case 8:o=e.sent;case 9:return o.active=!0,e.next=12,l.getIDFolderOutfit(i);case 12:return s=e.sent,e.next=15,l.getTypeOutfit(i);case 15:return f=e.sent,e.next=18,l.getIconOutfit(i);case 18:h=e.sent,o.getComponent(d).setData(f,s,h),o.getChildByName("pick").active=!1;case 21:case"end":return e.stop()}}),e)})))));case 5:this.actionCancel(t),this.node.getChildByName("Block").active=!1;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.actionCancel=function(e){var t,n=null;switch(e){case h.Ear:case h.Glasses:case h.Headwear:case h.Mask:n=f.Instance.parentHead;break;case h.Back:n=f.Instance.parentBack;break;case h.Tail:n=f.Instance.parentBut}this.contentItem.children.forEach((function(e){return e.getChildByName("cancel").active=!1}));var a=null==(t=n)?void 0:t.children.find((function(t){var n;return(null==(n=t.getComponent(u))?void 0:n.typeSkin)==e}));a&&this.contentItem.children.find((function(e){var t;return(null==(t=e.getComponent(d))?void 0:t.id)==a.name})).getComponent(d).activeCancel((function(){f.Instance.cancelDataSkin(e),a.destroy()}))},c.OnClick_Reset=function(){f.Instance.ResetGlass()},r}(o))||m);r._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Happy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FaceController.ts","./Wardrode.Pick.ts","./EnumManager.ts","./Utils.NumberArray.ts","./Character.Main.ts","./GameManager.ts","./Wardrode.Pick.Glass.Slider.ts"],(function(t){var e,n,o,r,i,a,s,h,_,l,u,p,m,c,g,f,d,y,w,v,b,C,M,S,k,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,_=t._decorator,l=t.Prefab,u=t.Layout,p=t.MeshRenderer,m=t.Vec3,c=t.Toggle,g=t.instantiate,f=t.find,d=t.Label,y=t.Slider,w=t.EventHandler},function(t){v=t.FaceController},function(t){b=t.Wardrode_Pick},function(t){C=t.enumTypeHappy},function(t){M=t.Utils_NumberArray},function(t){S=t.Character_Main},function(t){k=t.GameManager},function(t){L=t.Wardrode_Pick_Glass_Slider}],execute:function(){var N,P,E,I,D,U,T,R;h._RF.push({},"20b64CSubxPwomdv9QplzP7","Wardrode.Pick.Happy",void 0);var H=_.ccclass,W=_.property,B=_.executeInEditMode;t("Wardrode_Pick_Happy",(N=H("Wardrode_Pick_Happy"),P=W({type:l}),E=W({type:u}),I=W({type:M}),N(D=B((T=e((U=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this)._listName=["_00_EyeBlink:Chớp mắt","_01_eyeBlinkRight:Chớp mắt phải","_02_eyeBlinkLeft:Chớp mắt trái","_03_eyeLookUp:Nhìn lên","_04_eyeLookDown:Nhìn xuống","_05_eyeLookIn:Nhìn vào trong","_06_eyeLookOut:Nhìn ra ngoài","_07_browInnerUp:Nhíu chân mày trong lên","_08_browInnerDown:Hạ chân mày trong xuống","_09_browDown:Hạ chân mày xuống","_10_browOuterUp:Nhấc chân mày ngoài lên","_33_EyeIrisScaleSmall:Tỷ lệ thu nhỏ đồng tử","_34_EyeIrisScaleBig:Tỷ lệ phóng to đồng tử","_29_EyeShapeScale_Y:Tỷ lệ co giãn hình dạng mắt theo trục Y","_30_EyeShapeScale_X:Tỷ lệ co giãn hình dạng mắt theo trục X","_31_EyeShapeScale_Up:Phóng to mắt","_32_EyeShapeScale_Down:Thu nhỏ mắt","_11_MouthOpen:Mở miệng","_18_mouthPucker:Bĩu môi","_19_mouth:Miệng","_20_mouthRight:Miệng lệch sang bên phải","_21_mouthLeft:Miệng lệch sang bên trái","_22_mouthRollUpper:Lật môi trên lên","_23_mouthRollLower:Cuộn môi dưới lên","_24_mouthShrugUpper:Nhún môi trên","_25_mouthShrugLower:Nhún môi dưới","_26_mouthSmile:Mỉm cười","_27_mouthFrown:Méo miệng","_28_mouthDimple:Má lúm đồng tiền","_12_cheekPuff:Phồng má","_13_cheekSquint:Nheo má","_15_jawForward:Hàm lên trên","_16_jawLeft:Hàm sang trái","_17_jawRight:Hàm sang phải","_14_noseSneer:Nâng mũi"],e._listEye=["_00_EyeBlink","_01_eyeBlinkRight","_02_eyeBlinkLeft","_03_eyeLookUp","_04_eyeLookDown","_05_eyeLookIn","_06_eyeLookOut","_07_browInnerUp","_08_browInnerDown","_09_browDown","_10_browOuterUp","_33_EyeIrisScaleSmall","_34_EyeIrisScaleBig","_29_EyeShapeScale_Y","_30_EyeShapeScale_X","_31_EyeShapeScale_Up","_32_EyeShapeScale_Down",""],e._listMouth=["_11_MouthOpen","_18_mouthPucker","_19_mouth","_20_mouthRight","_21_mouthLeft","_22_mouthRollUpper","_23_mouthRollLower","_24_mouthShrugUpper","_25_mouthShrugLower","_26_mouthSmile","_27_mouthFrown","_28_mouthDimple",""],e._listCheek=["_12_cheekPuff","_13_cheekSquint",""],e._listJaw=["_15_jawForward","_16_jawLeft","_17_jawRight",""],e._listNose=["_14_noseSneer",""],e._weightsControl=[],e._modelComp=null,e._morph=void 0,e._totalTargets=[],e._targetNames=[],o(e,"controlItemPrfb",T,r(e)),o(e,"itemLayout",R,r(e)),e}n(e,t);var h=e.prototype;return h.setWeight=function(t){if(0!==t.length)for(var e=this.dataConversion(t),n=0;n<this._morph.subMeshMorphs.length;++n)if(this._morph.subMeshMorphs[n])for(var o=0;o<this._morph.subMeshMorphs[n].targets.length;++o)this._modelComp.setWeight(e[n][o],n,o)},h.dataConversion=function(t){for(var e=[],n=0,o=0;o<this._morph.subMeshMorphs.length;++o)e[o]=[],this._morph.subMeshMorphs[o]?(e[o]=t[n].array,++n):e[o]=null;return e},h.setData=function(){var t=a(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.Change(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),h.start=function(){t.prototype.start.call(this)},h.onEnable=function(){var t;if(this._modelComp=null==(t=v.Instance)?void 0:t.nodeFace.getComponent(p),this._modelComp){var e=this._modelComp.mesh;if(e&&(this._morph=e.struct.morph,this._morph))if(0!==this._morph.subMeshMorphs.length){var n=this._morph.subMeshMorphs.find((function(t){return!!t}));if(n){this._morph.subMeshMorphs.every((function(t){return!t||t.targets.length===n.targets.length}))||console.warn("not all submesh count are the same");for(var o=[],r=0;r<this._morph.subMeshMorphs.length;r++)this._morph.subMeshMorphs[r]&&o.push(this._morph.subMeshMorphs[r]);for(var i=0;i<this._morph.targetNames.length;i++){var a=this._morph.targetNames[i].split(".");this._targetNames.push(a[a.length-1])}for(var s=[],h=0;h<o.length;h++){var _=o[h]&&o[h].targets.length>0?o[h].targets.length:0;s.push(_)}this._totalTargets=s;for(var l=0;l<s.length;l++){var u=new M(s[l]);this.weightsControl.push(u)}this.initUI()}else console.warn("all submesh don't have morph")}else console.warn("submesh count is 0")}},h.onDisable=function(){this._totalTargets=[],this._weightsControl=[],this._modelComp=null,this._targetNames=[]},h.Change=function(t){var e;switch(t){case C.Eye:e=this._listEye;break;case C.Mouth:e=this._listMouth;break;case C.Cheek:e=this._listCheek;break;case C.Jaw:e=this._listJaw;break;case C.Nose:e=this._listNose}this.itemLayout.node.setPosition(new m(0,308.013,0)),this.itemLayout.node.children.forEach((function(t){var n=e.find((function(e){return e==t.name}));t.active=!!n}))},h.getName=function(t){var e=this._listName.find((function(e){return e.split(":")[0]==t})),n="";return e&&(n=e.split(":")[1]),n},h.initUI=function(){var t,e=this;this.itemLayout.node.removeAllChildren();for(var n=k.dataPlayer.happy,o=0;o<1;o++)for(var r=function(t){var o,r,i=g(e.controlItemPrfb);i.parent=e.itemLayout.node,i.name=e._targetNames[t];var a=null==(o=f("Name",i))?void 0:o.getComponent(d);a&&(e._targetNames[t]?a.string=""+e.getName(e._targetNames[t]):a.string=""+t);var s=null==(r=f("Slider",i))?void 0:r.getComponent(y),h=new w;h.target=e.node,h.handler="onSliderChanged",h.component="Wardrode_Pick_Happy";var _=e._totalTargets.length+","+t+","+e._targetNames[t];h.customEventData=_,null==s||s.slideEvents.push(h);var l=n.find((function(n){return n.type==e._targetNames[t]}));if(l){var u=l.value;i.getComponent(L).setView(u)}},i=0;i<this._totalTargets[o];i++)r(i);null==(t=this.itemLayout.getComponent(u))||t.updateLayout(),this.itemLayout.node.setPosition(new m(0,308.013,0));var a=this.toggleContainer.node.children.find((function(t){return t.getComponent(c).isChecked}));a&&this.setData(a.name)},h.onSliderChanged=function(t,e){var n=e.split(","),o=Number.parseInt(n[0]),r=Number.parseInt(n[1]);S.Instance.setDataMorph(n[2],t.progress.toFixed(2).toString());for(var i=0;i<o;i++)this.weightsControl[i].array[r]=t.progress,this.weightsControl=this.weightsControl},i(e,[{key:"weightsControl",get:function(){return this._weightsControl},set:function(t){t.length==this._totalTargets.length&&(this._weightsControl=t,this.setWeight(this._weightsControl))}}]),e}(b)).prototype,"controlItemPrfb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(U.prototype,"itemLayout",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(U.prototype,"weightsControl",[I],Object.getOwnPropertyDescriptor(U.prototype,"weightsControl"),U.prototype),D=U))||D)||D));h._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Pet.Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.Main.ts","./Utils.ts"],(function(e){var t,n,i,r,c,a,o,s,l,u,p,h,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,c=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,l=e.Sprite,u=e.Node,p=e.director,h=e.Component},function(e){d=e.Character_Main},function(e){f=e.Utils}],execute:function(){var v,y,b,k,m,C,P;o._RF.push({},"01924Ox/qhLBbhYnNoNhFZE","Wardrode.Pick.Pet.Item",void 0);var _=s.ccclass,g=s.property;e("Wardrode_Pick_Pet_Item",(v=_("Wardrode_Pick_Pet_Item"),y=g(l),b=g(u),v((C=t((m=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return t=e.call.apply(e,[this].concat(c))||this,i(t,"spr",C,r(t)),i(t,"btnCancel",P,r(t)),t.type=void 0,t.id=void 0,t}n(t,e);var o=t.prototype;return o.setData=function(e,t,n){f.resizeSprite(this.spr,n,200),this.type=e,this.id=t},o.activeCancel=function(e){var t=this;this.btnCancel.active=!0,this.btnCancel.off("click"),this.btnCancel.on("click",(function(){e&&e(),t.btnCancel.active=!1}))},o.start=function(){var e=this;this.btnCancel.active=!1,this.node.off("click"),this.node.on("click",c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.Instance.setDataSkin(e.type,e.id);case 2:e.node.parent.children.forEach((function(e){return e.getChildByName("pick").active=!1})),e.node.getChildByName("pick").active=!0,e.scheduleOnce((function(){p.emit("changePet",e.type)}));case 5:case"end":return t.stop()}}),t)}))))},t}(h)).prototype,"spr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(m.prototype,"btnCancel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=m))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.Pet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wardrode.Pick.ts","./GameManager.ts","./SkinController.ts","./OutfitManager.ts","./Character.Main.ts","./Utils.ts","./EnumManager.ts","./Wardrode.Pick.Pet.Item.ts"],(function(e){var t,n,r,a,c,i,o,s,u,d,f,l,p,h;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,i=e.director},function(e){o=e.Wardrode_Pick},function(e){s=e.GameManager},function(e){u=e.SkinController},function(e){d=e.OutfitManager},function(e){f=e.Character_Main},function(e){l=e.Utils},function(e){p=e.enumTypeSkin},function(e){h=e.Wardrode_Pick_Pet_Item}],execute:function(){var k;a._RF.push({},"95a98bn1QZNcqutZRUKPVg0","Wardrode.Pick.Pet",void 0);var m=c.ccclass;c.property,e("Wardrode_Pick_Pet",m("Wardrode_Pick_Pet")(k=function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var c=a.prototype;return c.onLoad=function(){var e=this;i.on("changePet",(function(t){e.actionCancel(t)}))},c.setData=function(){var e=n(r().mark((function e(t){var a,c,i,o=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.node.getChildByName("Block").active=!0,this.contentItem.children.forEach((function(e){return e.active=!1})),a=s.dataGame.Clothes.find((function(e){return e.type==s.sex})).component.find((function(e){return e.type==t})).items,c=r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a[i],e.next=3,new Promise(n(r().mark((function e(n,a){var c,i,s,u,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getResPrefab(t.url);case 2:if(c=e.sent,i=o.contentItem.children.find((function(e){return 0==e.active}))){e.next=9;break}return e.next=8,l.addNode(o.contentItem,o.contentItem.children[0]);case 8:i=e.sent;case 9:return i.active=!0,e.next=12,d.getIDFolderOutfit(c);case 12:return s=e.sent,e.next=15,d.getTypeOutfit(c);case 15:return u=e.sent,e.next=18,d.getIconOutfit(c);case 18:return f=e.sent,e.next=21,i.getComponent(h).setData(u,s,f);case 21:i.getChildByName("pick").active=!1,n();case 23:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})),i=0;case 5:if(!(i<a.length)){e.next=10;break}return e.delegateYield(c(),"t0",7);case 7:i++,e.next=5;break;case 10:this.actionCancel(t),this.node.getChildByName("Block").active=!1;case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.actionCancel=function(e){var t,n=null;switch(e){case p.Ear:case p.Glasses:case p.Headwear:case p.Mask:n=f.Instance.parentHead;break;case p.Back:n=f.Instance.parentBack;break;case p.Tail:n=f.Instance.parentBut;break;case p.Pet:n=f.Instance.parentPet}this.contentItem.children.forEach((function(e){return e.getChildByName("cancel").active=!1}));var r=null==(t=n)?void 0:t.children.find((function(t){var n;return(null==(n=t.getComponent(u))?void 0:n.typeSkin)==e}));r&&this.contentItem.children.find((function(e){var t;return(null==(t=e.getComponent(h))?void 0:t.id)==r.name})).getComponent(h).activeCancel((function(){f.Instance.cancelDataSkin(e),r.destroy()}))},c.OnClick_Reset=function(){f.Instance.ResetGlass()},a}(o))||k);a._RF.pop()}}}));

System.register("chunks:///_virtual/Wardrode.Pick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,a,i,c,l,u,s,p,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,u=e.ToggleContainer,s=e.Node,p=e.EventHandler,d=e.Toggle,g=e.Component}],execute:function(){var f,h,v,m,k,y,b;c._RF.push({},"8b4deK4MONCGa0PgrE+ZxDk","Wardrode.Pick",void 0);var C=l.ccclass,P=l.property;e("Wardrode_Pick",(f=C("Wardrode_Pick"),h=P(u),v=P(s),f((y=t((k=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"toggleContainer",y,o(t)),t.countItemInPage=void 0,r(t,"contentItem",b,o(t)),t}n(t,e);var c=t.prototype;return c.start=function(){var e=new p;e.target=this.node,e.component="Wardrode_Pick",e.handler="callback",e.customEventData="",this.toggleContainer.checkEvents.push(e)},c.onEnable=function(){var e=this.toggleContainer.node.children.find((function(e){return e.getComponent(d).isChecked}));e&&this.setData(e.name)},c.setData=function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.callback=function(e,t){this.setData(e.node._name)},t}(g)).prototype,"toggleContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(k.prototype,"contentItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=k))||m));c._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});